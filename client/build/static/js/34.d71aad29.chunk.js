(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[34],{432:function(e,t,n){"use strict";var a=n(17),i=n(0),o=n(34),r=n.n(o),c=n(417),s=n(424),l=n(804),d=n(803),b=n(805),j=n(806),u=n(802),m=n(846),p=n(437),O=n.n(p),h=n(141),x=n(144),v=n(140),f=n(390);var y=Object(f.a)((e=>({root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),[e.breakpoints.up("md")]:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}},background:{backgroundColor:e.palette.background.default},title:{marginBottom:e.spacing(2),[e.breakpoints.up("md")]:{marginBottom:e.spacing(7)}},loading:{top:e.mixins.toolbar.minHeight},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:e.zIndex.drawer+1},bottomNavigation:{[e.breakpoints.down("md")]:{bottom:e.spacing(10)}},icon:{marginRight:e.spacing(1)},snackbar:{bottom:e.spacing(10),[e.breakpoints.up("md")]:{bottom:e.spacing(2)}},bottom:{bottom:e.spacing(18)}}))),g=n(2);const C=({className:e,children:t,actions:n,fab:o,header:p,toolbar:f,loading:C,placeholder:N,snackbar:k,bottomNavigation:S})=>{const w=y(),A=Object(i.useState)(!1),P=Object(a.a)(A,2),F=P[0],I=P[1],E=Object(i.useContext)(v.b),T=Object(a.a)(E,1)[0],R=e=>t=>{I(!1),e.onClick()},B=!Array.isArray(null===o||void 0===o?void 0:o.actions),D=N;return Object(g.jsxs)(l.a,{className:r()(w.root,e,{[w.background]:!T.prominent}),component:"main",children:[C&&Object(g.jsx)(h.a,{className:w.loading}),!C&&t,!C&&D&&N,o&&B&&Object(g.jsx)(s.a,{display:"block",displayPrint:"none",children:Object(g.jsx)(b.a,{in:B,unmountOnExit:!0,children:Object(g.jsx)(c.a,{className:r()(w.fab,{[w.bottomNavigation]:S}),badgeContent:o.actions.badge,color:"error",children:Object(g.jsxs)(d.a,{id:o.id,disabled:o.disabled,variant:o.actions.variant,color:"primary",onClick:o.actions.onClick,children:[o.actions.icon?Object(i.cloneElement)(o.actions.icon,{className:w.icon}):Object(g.jsx)(O.a,{className:r()({[w.icon]:!!o.actions.label})}),"extended"===o.actions.variant&&o.actions.label]})})})}),o&&!B&&Object(g.jsx)(s.a,{display:"block",displayPrint:"none",children:Object(g.jsx)(b.a,{in:!B,unmountOnExit:!0,children:Object(g.jsx)(c.a,{className:r()(w.fab,{[w.bottomNavigation]:S}),badgeContent:o.actions.badge,overlap:"circle",color:"error",children:Object(g.jsx)(j.a,{id:o.id,open:F,ariaLabel:"A\xe7\xf5es",icon:Object(g.jsx)(m.a,{}),onClick:()=>{I(!F)},children:o.actions.map(((e,t)=>Object(g.jsx)(u.a,{icon:e.icon,tooltipTitle:e.label,tooltipOpen:!0,onClick:R(e)},t)))})})})}),k&&Object(g.jsx)(x.a,{className:r()(w.snackbar,{[w.bottom]:o&&S})})]})};C.defaultProps={header:!0,toolbar:!1,loading:!1,snackbar:!0,bottomNavigation:!0};t.a=C},441:function(e,t,n){"use strict";const a="beacon-container";t.a={showBeacon:()=>{const e=document.getElementById(a);e&&(e.style.display="block")},hideBeacon:()=>{const e=document.getElementById(a);e&&(e.style.display="none")}}},467:function(e,t,n){"use strict";var a=n(8),i=n(64),o=(n(0),n(508)),r=n.n(o),c=n(343),s=n(344),l=n(341),d=n(352),b=n(2);const j=e=>{const t=e.inputRef,n=e.mask,o=e.placeholder,c=Object(i.a)(e,["inputRef","mask","placeholder"]);return Object(b.jsx)(r.a,Object(a.a)(Object(a.a)({},c),{},{ref:e=>{t(e?e.inputElement:null)},guide:!1,placeholder:o,mask:n,placeholderChar:"\u2000",showMask:!0}))};t.a=e=>Object(b.jsxs)(c.a,Object(a.a)(Object(a.a)({},e),{},{fullWidth:e.fullWidth,error:!!e.meta.error&&e.meta.touched,children:[Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},e),{},{htmlFor:e.id,children:e.label})),Object(b.jsx)(l.a,Object(a.a)(Object(a.a)(Object(a.a)({id:e.id},e),e.input),{},{inputProps:{mask:e.mask,placeholder:e.placeholder},inputComponent:j,"aria-describedby":"my-helper-text"})),e.helperText&&e.meta.error&&Object(b.jsx)(s.a,{id:"".concat(e.id,"-helper-text"),children:e.meta.error})]}))},476:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var a=n(482),i=n(20),o=n.n(i),r=n(17),c=n(30),s=n(518),l=n.n(s),d=n(4);const b=e=>"".concat(e.street,", ").concat(e.number," - ").concat(e.district,", ").concat(e.city," - ").concat(e.state,", ").concat(e.postalCode,", Brasil"),j=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a,i,c,s,d,j,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b(t),i="https://maps.googleapis.com/maps/api/geocode/json?address=".concat(encodeURIComponent(a),"&key=AIzaSyDrpdmTAct0wy9t4pevLSncM2sFyG7wIsI"),e.next=4,l.a.get(i);case 4:if(c=e.sent,s=null===(n=c.data)||void 0===n?void 0:n.results,d=Object(r.a)(s,1),!(null===(j=d[0])||void 0===j?void 0:j.geometry)){e.next=8;break}return e.abrupt("return",null===j||void 0===j||null===(u=j.geometry)||void 0===u?void 0:u.location);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=e=>{if(!e)return"";if(!e.street&&!e.number&&!e.complement&&!e.district&&!e.city&&!e.state&&!e.postalCode)return"";let t="";return e.street&&(t=t.concat(e.street)),e.number&&(t=t.concat(", ".concat(e.number))),e.complement&&(t=t.concat(", ".concat(e.complement))),e.district&&(t=t.concat(", ".concat(e.district))),e.city&&(t=t.concat(" - ".concat(e.city))),e.state&&(t=t.concat(", ".concat(e.state))),e.postalCode&&(t=t.concat(" - ".concat(e.postalCode))),t},m=(e,t,n,a)=>{var i=p(n-e),o=p(a-t),r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(p(e))*Math.cos(p(n))*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},p=e=>e*(Math.PI/180);t.a={geocodeAddress:j,stringifyAddress:b,formatAddress:u,calculateDeliveryFee:(e,t)=>{const n=(i=t,o=e.address,m(i.lat,i.lng,o.lat,o.lng));var i,o;if(e.delivery){var r,c=Object(a.a)(e.delivery);try{for(c.s();!(r=c.n()).done;){const e=r.value;if(e.condition===d.g.LESS_THAN){if(n<=e.distance)return e.fee}else if(n>=e.distance)return e.fee}}catch(s){c.e(s)}finally{c.f()}}return 0}}},490:function(e,t,n){"use strict";var a=n(8),i=n(0),o=n(90),r=n(517),c=n.n(r),s=n(599),l=n(553),d=n(407),b=n(397),j=n(107),u=n(467),m=n(390);var p=Object(m.a)((e=>({root:{},content:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},formControlLabel:{whiteSpace:"nowrap",fontSize:e.spacing(1.5)},actions:{padding:e.spacing(2)},actionPaper:{zIndex:1}}))),O=n(2);const h=e=>{const t={};return e.postalCode?e.postalCode&&!c()(e.postalCode,"BR")&&(t.postalCode="CEP inv\xe1lido"):t.postalCode="CEP em branco",e.district||(t.district="Bairro em branco"),e.street||(t.street="Rua em branco"),e.number||e.noNumber||(t.number="N\xfamero em branco"),t},x=({initialValues:e,onPostalCode:t,actions:n,onSubmit:r})=>{const c=p(),m=Object(i.useRef)(),x=Object(i.useRef)(),v=Object(o.b)({initialValues:e,onSubmit:r,validate:h}),f=v.form,y=v.handleSubmit,g=v.values,C=v.invalid,N=v.pristine,k=v.submitting,S=Object(o.a)("postalCode",f),w=Object(o.a)("state",f),A=Object(o.a)("city",f),P=Object(o.a)("district",f),F=Object(o.a)("street",f),I=Object(o.a)("number",f),E=Object(o.a)("noNumber",f),T=Object(o.a)("complement",f);Object(i.useEffect)((()=>{e||m.current.focus()}),[]),Object(i.useEffect)((()=>{!e||"number"in g||"complement"in g||x.current.focus()}),[null===e||void 0===e?void 0:e.state,null===e||void 0===e?void 0:e.street,null===e||void 0===e?void 0:e.city,null===e||void 0===e?void 0:e.district,g.number,g.complement]);const R=!!E.input.value;return Object(O.jsxs)(d.a,{container:!0,spacing:2,component:"form",autoComplete:"off",onSubmit:y,children:[Object(O.jsx)(d.a,{item:!0,xs:6,children:Object(O.jsx)(u.a,Object(a.a)(Object(a.a)({},S),{},{id:"postalCode",type:"text",inputRef:m,label:"CEP",mask:[/\d/,/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/],disabled:null===e||void 0===e?void 0:e._id,required:!0,fullWidth:!0,onChange:e=>{const n=e.target.value;9===n.length&&t(n)}}))}),Object(O.jsx)(d.a,{item:!0,xs:6}),Object(O.jsx)(d.a,{item:!0,xs:6,children:Object(O.jsx)(j.a,Object(a.a)(Object(a.a)({},A),{},{id:"city",type:"text",label:"Cidade",required:!0,disabled:!0,fullWidth:!0}))}),Object(O.jsx)(d.a,{item:!0,xs:6,children:Object(O.jsx)(j.a,Object(a.a)(Object(a.a)({},w),{},{id:"state",type:"text",label:"Estado",required:!0,disabled:!0,fullWidth:!0}))}),Object(O.jsx)(d.a,{item:!0,xs:12,children:Object(O.jsx)(j.a,Object(a.a)(Object(a.a)({},P),{},{id:"district",type:"text",label:"Bairro",required:!0,fullWidth:!0}))}),Object(O.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(O.jsx)(j.a,Object(a.a)(Object(a.a)({},F),{},{id:"street",type:"text",label:"Rua/Avenida",required:!0,fullWidth:!0}))}),Object(O.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(O.jsx)(j.a,Object(a.a)(Object(a.a)({},I),{},{id:"number",type:"text",inputRef:x,label:"N\xfamero",required:!0,fullWidth:!0,disabled:R,InputProps:{endAdornment:Object(O.jsx)(b.a,{position:"end",children:Object(O.jsx)(l.a,{classes:{label:c.formControlLabel},control:Object(O.jsx)(s.a,Object(a.a)(Object(a.a)({},E.input),{},{id:"noNumber",checked:R,color:"primary",inputProps:{"aria-label":"Sem n\xfamero"}})),label:"Sem n\xfamero"})})}}))}),Object(O.jsx)(d.a,{item:!0,xs:12,md:6,children:Object(O.jsx)(j.a,Object(a.a)(Object(a.a)({},T),{},{id:"complement",type:"text",label:"Complemento",placeholder:"Andar/Apartamento",fullWidth:!0}))}),Object(O.jsx)(d.a,{item:!0,xs:12,children:n&&n(k,N,C)})]})};x.defaultProps={onPostalCode:()=>{},onSubmit:()=>{}};t.a=x},535:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>/\d{11}$/.test(e)&&11===e.length},545:function(e,t,n){"use strict";n(0);var a=n(402),i=n(400),o=n(120),r=n(106),c=n(177),s=n(490),l=n(390);var d=Object(l.a)((e=>({root:{minHeight:e.spacing(50),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingBottom:e.spacing(8)},paper:{position:"absolute",left:0,right:0,bottom:0}}))),b=n(2);const j=({initialValues:e,onPostalCode:t,onSubmit:n})=>{const l=d();return Object(b.jsx)(i.a,{className:l.root,children:Object(b.jsx)(s.a,{initialValues:e,onPostalCode:t,onSubmit:n,actions:(t,n,i)=>Object(b.jsx)(o.a,{className:l.paper,elevation:10,children:Object(b.jsxs)(a.a,{children:[Object(b.jsx)(c.a,{}),Object(b.jsx)(r.a,{type:"submit",variant:"contained",color:"primary",loading:t,disabled:e?i:n||i,children:(null===e||void 0===e?void 0:e._id)?"Atualizar":"Adicionar"})]})})})})};j.defaultProps={onPostalCode:()=>{},onSubmit:()=>{}};t.a=j},547:function(e,t,n){"use strict";n(0);var a=n(105),i=n(2);const o=({address:e,align:t,dense:n,primaryVariant:o})=>Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(a.a,{variant:o,align:t||"left",children:"".concat(null===e||void 0===e?void 0:e.street)+"".concat((null===e||void 0===e?void 0:e.number)?", ".concat(null===e||void 0===e?void 0:e.number):"")}),!n&&Object(i.jsx)(a.a,{viariant:"body2",color:"textSecondary",align:t||"left",children:"".concat((null===e||void 0===e?void 0:e.complement)?"".concat(null===e||void 0===e?void 0:e.complement,", "):"")+"".concat(null===e||void 0===e?void 0:e.district)+" - ".concat(null===e||void 0===e?void 0:e.city,", ").concat(null===e||void 0===e?void 0:e.state," - CEP ").concat(null===e||void 0===e?void 0:e.postalCode)})]});o.defaultProps={address:{},align:"left",dense:!1,primaryVariant:null},t.a=o},656:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return h}));var a,i,o=n(11),r=n(12),c=n.n(r);const s=c()(a||(a=Object(o.a)(["\n  fragment shopfrontAddressAttributes on ShopfrontAddress {\n    street\n    number\n    complement\n    district\n    city\n    state\n    postalCode\n    lat\n    lng\n  }\n"]))),l=c()(i||(i=Object(o.a)(["\n  fragment shopfrontAttributes on Shopfront {\n    _id\n    merchant\n    banner\n    picture\n    name\n    address {\n      ...shopfrontAddressAttributes\n    }\n    products {\n      _id\n      name\n      description\n      image\n      price\n    }\n    delivery {\n      fee\n      distance\n      condition\n    }\n  }\n  ","\n"])),s);var d,b,j,u;const m=c()(d||(d=Object(o.a)(["\n  {\n    shopfront {\n      ...shopfrontAttributes\n    }\n  }\n  ","\n"])),l),p=c()(b||(b=Object(o.a)(["\n  query($id: ID!) {\n    shopfronts(id: $id) {\n      ...shopfrontAttributes\n    }\n  }\n  ","\n"])),l),O=c()(j||(j=Object(o.a)(["\n  mutation($input: AddProductShopfrontInput!) {\n    addProductShopfront(input: $input) {\n      ...shopfrontAttributes\n    }\n  }\n  ","\n"])),l),h=c()(u||(u=Object(o.a)(["\n  mutation($input: DeleteProductShopfrontInput!) {\n    deleteProductShopfront(input: $input) {\n      ...shopfrontAttributes\n    }\n  }\n  ","\n"])),l)},815:function(e,t,n){"use strict";n.r(t);var a=n(20),i=n.n(a),o=n(30),r=n(17),c=n(0),s=n(40),l=n(21),d=n(64),b=n(8),j=n(516),u=n.n(j),m=n(664),p=n(424),O=n(403),h=n(402),x=n(400),v=n(416),f=n(407),y=n(396),g=n(340),C=n(105),N=n(521),k=n.n(N),S=n(646),w=n.n(S),A=n(776),P=n.n(A),F=n(239),I=n.n(F),E=n(399),T=n(348),R=n(143),B=n(90),D=n(107),q=n(535),M=n(390);var W=Object(M.a)((e=>({root:{}}))),z=n(2);const V=e=>{const t={};return e.nationalId?e.nationalId&&!Object(q.a)(e.nationalId)&&(t.nationalId="CPF inv\xe1lido"):t.nationalId="CPF em branco",t},$=({initialValues:e,actions:t,onSubmit:n})=>{const a=W(),i=Object(c.useRef)(),o=Object(B.b)({initialValues:e,onSubmit:n,validate:V}),r=o.form,s=o.handleSubmit,l=o.invalid,d=o.pristine,j=o.submitting,u=Object(B.a)("nationalId",r);return Object(c.useEffect)((()=>{i.current.focus()}),[]),Object(z.jsxs)(f.a,{className:a.root,container:!0,component:"form",autoComplete:"off",onSubmit:s,spacing:1,children:[Object(z.jsx)(f.a,{item:!0,xs:12,children:Object(z.jsx)(D.a,Object(b.a)(Object(b.a)({},u),{},{inputRef:i,type:"number",placeholder:"CPF ou CNPJ",required:!0,fullWidth:!0}))}),t&&t(j,d,l,s)]})};$.defaultProps={onSubmit:()=>{}};var L=$;var U=Object(M.a)((e=>({root:{},actions:{width:"100%",flexDirection:"column",marginBottom:e.spacing(1)},button:{marginTop:e.spacing(1)}})));const _=Object(c.forwardRef)(((e,t)=>Object(z.jsx)(T.a,Object(b.a)({direction:"up",ref:t},e))));_.displayName="Transition";const H=({open:e,cart:t,onAddFederalTaxNumber:n,onDeleteFederalTaxNumber:a,onClose:i,onExited:o})=>{const r=U();return Object(z.jsxs)(R.a,{className:r.root,open:e,onClose:i,TransitionComponent:_,position:"bottom",children:[Object(z.jsxs)(E.a,{children:[t.nationalId?"Editar":"Adicionar"," CPF ou CNPJ"]}),Object(z.jsx)(x.a,{children:Object(z.jsx)(L,{initialValues:t,onSubmit:n,actions:(e,t,n)=>Object(z.jsxs)(p.a,{className:r.actions,children:[Object(z.jsx)(O.a,{className:r.button,variant:"contained",color:"primary",type:"submit",disabled:e||t||n,fullWidth:!0,children:"Adicionar"}),Object(z.jsx)(O.a,{className:r.button,onClick:a,color:"secondary",fullWidth:!0,children:"N\xe3o, obrigado."})]})})})]})};H.defaultProps={onAddFederalTaxNumber:()=>{},onDeleteFederalTaxNumber:()=>{},onClose:()=>{},onExited:()=>{}};var J=H,G=n(406),Q=n(347),X=n(418),K=n(415),Y=n(4);var Z=Object(M.a)((e=>({root:{}})));const ee=Object(c.forwardRef)(((e,t)=>Object(z.jsx)(T.a,Object(b.a)({direction:"up",ref:t},e))));ee.displayName="Transition";const te=({title:e,open:t,method:n,onChange:a,onClose:i,onExited:o})=>{const r=Z(),c=e=>t=>{a({method:e})};return Object(z.jsxs)(R.a,{className:r.root,open:t,onClose:i,TransitionComponent:ee,position:"bottom",children:[Object(z.jsx)(E.a,{children:"Tipo de pagamento"}),Object(z.jsx)(x.a,{children:Object(z.jsx)(G.a,{component:"nav",children:Object.values(Y.N).map((e=>Object(z.jsxs)(Q.a,{button:!0,selected:n===e.type,onClick:c(e.type),children:[Object(z.jsx)(X.a,{children:e.icon}),Object(z.jsx)(K.a,{primary:e.label,secondary:e.installment})]},e.type)))})})]})};te.defaultProps={onChange:()=>{},onClose:()=>{},onExited:()=>{}};var ne=te,ae=n(106);var ie=Object(M.a)((e=>({root:{}})));const oe=e=>{const t={};return isNaN(e.changeFor)&&(t.changeFor="Troco para em branco"),t},re=({initialValues:e,actions:t,onSubmit:n})=>{const a=ie(),i=Object(c.useRef)(),o=Object(B.b)({initialValues:e,onSubmit:n,validate:oe}),r=o.form,s=o.handleSubmit,l=o.invalid,d=o.pristine,j=o.submitting,u=Object(B.a)("changeFor",r);return Object(c.useEffect)((()=>{i.current.focus()}),[]),Object(z.jsxs)(f.a,{className:a.root,container:!0,component:"form",autoComplete:"off",onSubmit:s,spacing:1,children:[Object(z.jsx)(f.a,{item:!0,xs:12,children:Object(z.jsx)(D.a,Object(b.a)(Object(b.a)({},u),{},{inputRef:i,type:"number",placeholder:"Troco para",required:!0}))}),t&&t(j,d,l)]})};re.defaultProps={onSubmit:()=>{}};var ce=re;var se=Object(M.a)((e=>({root:{},actions:{width:"100%",flexDirection:"column",marginBottom:e.spacing(1)},button:{marginTop:e.spacing(1)}})));const le=Object(c.forwardRef)(((e,t)=>Object(z.jsx)(T.a,Object(b.a)({direction:"up",ref:t},e))));le.displayName="Transition";const de=({open:e,changeFor:t,onSubmit:n,onClose:a,onExited:i})=>{const o=se();return Object(z.jsxs)(R.a,{className:o.root,open:e,onClose:a,TransitionComponent:le,position:"bottom",children:[Object(z.jsx)(E.a,{children:"Troco para"}),Object(z.jsx)(x.a,{children:Object(z.jsx)(ce,{initialValues:{changeFor:t},onSubmit:n,actions:(e,t,n)=>Object(z.jsx)(p.a,{className:o.actions,children:Object(z.jsx)(ae.a,{className:o.button,variant:"contained",color:"primary",type:"submit",disabled:e||t||n,fullWidth:!0,children:"Adicionar"})})})})]})};de.defaultProps={onSubmit:()=>{},onClose:()=>{},onExited:()=>{}};var be=de;var je=Object(M.a)((e=>({root:{}})));const ue=({initialValues:e,actions:t,onSubmit:n})=>{const a=je(),i=Object(c.useRef)(),o=Object(B.b)({initialValues:e,onSubmit:n}),r=o.form,s=o.handleSubmit,l=o.invalid,d=o.pristine,j=o.submitting,u=Object(B.a)("mobile",r),m=Object(B.a)("name",r);return Object(c.useEffect)((()=>{i.current.focus()}),[]),Object(z.jsxs)(f.a,{className:a.root,container:!0,component:"form",autoComplete:"off",onSubmit:s,spacing:1,children:[Object(z.jsxs)(f.a,{item:!0,xs:12,children:[Object(z.jsx)(D.a,Object(b.a)(Object(b.a)({},u),{},{inputRef:i,placeholder:"(11) 987255113",type:"phone",label:"Celular",required:!0,fullWidth:!0})),Object(z.jsx)(D.a,Object(b.a)(Object(b.a)({},m),{},{placeholder:"Nome Sobrenome",type:"text",label:"Nome",required:!0,fullWidth:!0}))]}),t&&t(j,d,l,s)]})};ue.defaultProps={onSubmit:()=>{}};var me=ue;var pe=Object(M.a)((e=>({root:{},actions:{width:"100%",flexDirection:"column"},button:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}})));const Oe=Object(c.forwardRef)(((e,t)=>Object(z.jsx)(T.a,Object(b.a)({direction:"up",ref:t},e))));Oe.displayName="Transition";const he=({title:e,open:t,customer:n,onSubmit:a,onClose:i,onExited:o})=>{const r=pe();return Object(z.jsxs)(R.a,{className:r.root,open:t,onClose:i,TransitionComponent:Oe,position:"bottom",children:[Object(z.jsx)(E.a,{children:"Adicione suas informa\xe7\xf5es"}),Object(z.jsxs)(x.a,{children:[Object(z.jsx)(C.a,{variant:"subtitle1",children:"Precisamos dessas informa\xe7\xf5es para entrar em contato sobre o seu pedido."}),Object(z.jsx)(me,{initialValues:n,onSubmit:a,actions:(e,t,n)=>Object(z.jsxs)(p.a,{className:r.actions,children:[Object(z.jsx)(O.a,{className:r.button,variant:"contained",color:"primary",type:"submit",disabled:e||t||n,fullWidth:!0,children:"Finalizar pedido"}),Object(z.jsx)(O.a,{className:r.button,onClick:i,color:"secondary",fullWidth:!0,children:"N\xe3o, obrigado."})]})})]})]})};he.defaultProps={customer:{},onSubmit:()=>{},onClose:()=>{},onExited:()=>{}};var xe=he,ve=n(545),fe=n(432),ye=n(34),ge=n.n(ye),Ce=n(437),Ne=n.n(Ce),ke=n(547),Se=n(417),we=n(703);var Ae=Object(M.a)((e=>({root:{},avatar:{width:e.spacing(10),height:e.spacing(10)}})));const Pe=({isCart:e,data:t,onClick:n})=>{var a,i;const o=Ae(),r=e?null===t||void 0===t||null===(a=t.subtotal)||void 0===a?void 0:a.toFixed(2):null===t||void 0===t||null===(i=t.price)||void 0===i?void 0:i.toFixed(2);return Object(z.jsx)(Q.a,{button:!0,onClick:n(t),alignItems:"flex-start",children:Object(z.jsxs)(f.a,{container:!0,direction:"row",spacing:1,children:[Object(z.jsxs)(f.a,{item:!0,xs:9,container:!0,direction:"column",children:[!e&&Object(z.jsx)(K.a,{primary:null===t||void 0===t?void 0:t.name,secondary:null===t||void 0===t?void 0:t.description}),e&&Object(z.jsx)(K.a,{primary:null===t||void 0===t?void 0:t.name,secondary:null===t||void 0===t?void 0:t.note}),Object(z.jsx)(K.a,{primary:"R$ ".concat(r)})]}),Object(z.jsxs)(f.a,{item:!0,xs:3,container:!0,alignItems:"center",children:[!e&&Object(z.jsx)(we.a,{children:Object(z.jsx)(m.a,{className:o.avatar,alt:null===t||void 0===t?void 0:t.name,variant:"rounded",src:null===t||void 0===t?void 0:t.image})}),e&&Object(z.jsx)(Se.a,{badgeContent:t.quantity,overlap:"circle",color:"error",children:Object(z.jsx)(we.a,{children:Object(z.jsx)(m.a,{className:o.avatar,alt:null===t||void 0===t?void 0:t.name,variant:"rounded",src:null===t||void 0===t?void 0:t.image})})})]})]})},t._id.toString())};Pe.defaultProps={onClick:()=>{}};var Fe=Pe,Ie=n(196),Ee=n.n(Ie);var Te=Object(M.a)((e=>({root:{},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},listItem:{padding:0},delivery:{color:Ee.a[600]}})));const Re=({title:e,open:t,cart:n,loading:a,shopfront:i,onClean:o,onEditItem:r,onAddPaymentMethod:c,onAddFederalTaxNumber:s,onClose:l,onExited:d,onAddressChange:b,onDeliveryMethod:j,onSubmit:u})=>{var m,p,O,h,y,g,N,k,S;const w=Te(),A=!!n.payments.length,P=0===(null===n||void 0===n||null===(m=n.delivery)||void 0===m?void 0:m.fee)||n.delivery.method===Y.l.indoor.type||n.delivery.method===Y.l.takeout.type,F=n.delivery.method===Y.l.delivery.type?n.subtotal+(null===n||void 0===n||null===(p=n.delivery)||void 0===p?void 0:p.fee):n.subtotal;return Object(z.jsx)(R.a,{title:e,open:t,onClose:l,onExited:d,children:Object(z.jsx)(x.a,{children:Object(z.jsxs)(f.a,{container:!0,spacing:1,children:[Object(z.jsx)(f.a,{xs:12,item:!0,container:!0,justify:"flex-end",children:Object(z.jsx)(ae.a,{onClick:()=>{o()},color:"primary",children:"Limpar"})}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsxs)(ae.a,{onClick:j,color:"primary",fullWidth:!0,children:[n.delivery.method===Y.l.indoor.type&&"Pedido no local",n.delivery.method===Y.l.takeout.type&&"Pedido para retirada",n.delivery.method===Y.l.delivery.type&&"Pedido para entrega"]})}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsx)(v.a,{className:w.divider})}),Object(z.jsxs)(f.a,{xs:12,item:!0,children:[n.delivery.method===Y.l.indoor.type&&Object(z.jsx)(C.a,{children:"O pedido ser\xe1 entregue na mesa"}),n.delivery.method===Y.l.takeout.type&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(C.a,{gutterBottom:!0,children:"Retirar em"}),Object(z.jsx)(ke.a,{address:i.address})]}),n.delivery.method===Y.l.delivery.type&&Object(z.jsx)(Q.a,{className:w.listItem,button:!0,onClick:b,disableGutters:!0,children:Object(z.jsxs)(f.a,{container:!0,children:[Object(z.jsx)(f.a,{item:!0,xs:12,children:Object(z.jsx)(C.a,{gutterBottom:!0,children:"Entregar em"})}),Object(z.jsx)(f.a,{item:!0,xs:12,children:Object(z.jsx)(ke.a,{address:n.delivery.address})})]})})]}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsx)(v.a,{className:w.divider})}),Object(z.jsxs)(f.a,{xs:12,item:!0,children:[Object(z.jsx)(C.a,{variant:"h6",children:(null===i||void 0===i?void 0:i.name)||"Nome do local"}),Object(z.jsx)(G.a,{className:w.table,children:null===n||void 0===n?void 0:n.items.map((e=>Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Fe,{isCart:!0,onClick:r,data:e}),Object(z.jsx)(v.a,{})]})))}),Object(z.jsx)(ae.a,{onClick:l,fullWidth:!0,startIcon:Object(z.jsx)(Ne.a,{}),variant:"outlined",color:"primary",size:"large",children:"Adicionar mais itens"})]}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsx)(v.a,{className:w.divider})}),Object(z.jsxs)(f.a,{xs:12,item:!0,children:[Object(z.jsxs)(f.a,{xs:12,item:!0,container:!0,justify:"space-between",children:[Object(z.jsx)(C.a,{children:"Subtotal"}),Object(z.jsx)(C.a,{children:"R$ ".concat(null===n||void 0===n?void 0:n.subtotal.toFixed(2))})]}),n.delivery.method===Y.l.delivery.type&&Object(z.jsxs)(f.a,{xs:12,item:!0,container:!0,justify:"space-between",children:[Object(z.jsx)(C.a,{children:"Taxa de entrega"}),Object(z.jsx)(C.a,{className:ge()({[w.delivery]:P}),children:P?"Gr\xe1tis":"R$ ".concat(n.delivery.fee.toFixed(2))})]}),Object(z.jsxs)(f.a,{xs:12,item:!0,container:!0,justify:"space-between",children:[Object(z.jsx)(C.a,{variant:"h6",children:"Total"}),Object(z.jsx)(C.a,{variant:"h6",children:"R$ ".concat(F.toFixed(2))})]})]}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsx)(v.a,{className:w.divider})}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsxs)(f.a,{container:!0,spacing:1,alignItems:"center",children:[Object(z.jsxs)(f.a,{item:!0,xs:!0,children:[Object(z.jsx)(C.a,{children:A?"".concat(null===(O=Y.N[null===(h=n.payments[0])||void 0===h?void 0:h.method])||void 0===O?void 0:O.label," ").concat((null===(y=n.payments[0])||void 0===y?void 0:y.method)===Y.N.cash.type&&(null===(g=n.payments[0])||void 0===g?void 0:g.received)?"(Troco para: ".concat(null===(N=n.payments[0])||void 0===N||null===(k=N.received)||void 0===k?void 0:k.toFixed(2),")"):""):"Pagamento"}),(n.delivery.method===Y.l.indoor.type||n.delivery.method===Y.l.takeout.type)&&(null===(S=n.payments[0])||void 0===S?void 0:S.method)&&Object(z.jsx)(C.a,{variant:"caption",color:"textSecondary",children:"O pagamento dever\xe1 ser feito no caixa"}),n.delivery.method===Y.l.delivery.type&&A&&Object(z.jsx)(C.a,{variant:"caption",color:"textSecondary",children:"O pagamento dever\xe1 ser efetuado na entrega"})]}),Object(z.jsx)(f.a,{item:!0,children:Object(z.jsx)(ae.a,{onClick:e=>{c()},variant:"outlined",color:"primary",size:"small",children:A?"Editar":"Adicionar"})})]})}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsx)(v.a,{className:w.divider})}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsxs)(f.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(z.jsxs)(f.a,{item:!0,xs:!0,children:[Object(z.jsx)(C.a,{children:n.nationalId?n.nationalId:"CPF ou CNPJ"}),!n.nationalId&&Object(z.jsx)(C.a,{variant:"caption",color:"textSecondary",children:"Para emiss\xe3o de nota fiscal"})]}),Object(z.jsx)(f.a,{item:!0,children:Object(z.jsx)(ae.a,{onClick:e=>{s()},variant:"outlined",color:"primary",size:"small",children:n.nationalId?"Editar":"Adicionar"})})]})}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsx)(v.a,{className:w.divider})}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsx)(ae.a,{onClick:u,variant:"contained",color:"primary",size:"large",loading:a,disabled:!A,fullWidth:!0,children:"Fazer pedido"})})]})})})};Re.defaultProps={onEditItem:()=>{},onAddPaymentMethod:()=>{},onAddFederalTaxNumber:()=>{},onClean:()=>{},onClose:()=>{},onExited:()=>{},onDeliveryMethod:()=>{},onAddressChange:()=>{},onSubmit:()=>{}};var Be=Re,De=n(774),qe=n.n(De),Me=n(773),We=n.n(Me),ze=n(203),Ve=n.n(ze);var $e=Object(M.a)((e=>({root:{}})));const Le=Object(c.forwardRef)(((e,t)=>Object(z.jsx)(T.a,Object(b.a)({direction:"up",ref:t},e))));Le.displayName="Transition";const Ue=({open:e,address:t,method:n,onClose:a,onExited:i,onDeliveryMethodChange:o})=>{const r=$e(),c=e=>t=>{o({method:e})};return Object(z.jsxs)(R.a,{className:r.root,open:e,onClose:a,onExited:i,TransitionComponent:Le,position:"bottom",children:[Object(z.jsx)(E.a,{children:"Tipo de pedido"}),Object(z.jsx)(x.a,{children:Object(z.jsxs)(f.a,{container:!0,direction:"column",spacing:3,children:[n===Y.l.delivery.type&&t&&Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsx)(ke.a,{address:t})}),Object(z.jsx)(f.a,{item:!0,children:Object(z.jsxs)(G.a,{component:"nav",children:[Object(z.jsxs)(Q.a,{button:!0,selected:n===Y.l.indoor.type,onClick:c(Y.l.indoor.type),children:[Object(z.jsx)(X.a,{children:Object(z.jsx)(Ve.a,{})}),Object(z.jsx)(K.a,{primary:Y.l.indoor.label,secondary:"Voc\xea est\xe1 na mesa"})]}),Object(z.jsxs)(Q.a,{button:!0,selected:n===Y.l.takeout.type,onClick:c(Y.l.takeout.type),children:[Object(z.jsx)(X.a,{children:Object(z.jsx)(We.a,{})}),Object(z.jsx)(K.a,{primary:Y.l.takeout.label,secondary:"Voc\xea retira no local"})]}),Object(z.jsxs)(Q.a,{button:!0,selected:n===Y.l.delivery.type,onClick:c(Y.l.delivery.type),children:[Object(z.jsx)(X.a,{children:Object(z.jsx)(qe.a,{})}),Object(z.jsx)(K.a,{primary:Y.l.delivery.label,secondary:"A gente leva at\xe9 voc\xea"})]})]})})]})})]})};Ue.defaultProps={open:!1,address:null,method:Y.l.indoor.type,onClose:()=>{},onExited:()=>{},onDeliveryMethodChange:()=>{}};var _e=Ue,He=n(775),Je=n.n(He);var Ge=Object(M.a)((e=>({root:{}})));const Qe=Object(c.forwardRef)(((e,t)=>Object(z.jsx)(T.a,Object(b.a)({direction:"up",ref:t},e))));Qe.displayName="Transition";const Xe=({open:e,item:t,onClose:n,onExited:a,onSubmit:i})=>{const o=Ge(),s=Object(c.useState)((null===t||void 0===t?void 0:t.quantity)||1),l=Object(r.a)(s,2),d=l[0],j=l[1];return Object(z.jsx)(R.a,{className:o.root,open:e,onClose:n,onExited:()=>{j(1),a()},TransitionComponent:Qe,position:"bottom",children:Object(z.jsx)(x.a,{children:Object(z.jsxs)(f.a,{container:!0,direction:"column",spacing:3,children:[Object(z.jsx)(f.a,{item:!0,container:!0,justify:"center",children:Object(z.jsx)(C.a,{variant:"h6",children:null===t||void 0===t?void 0:t.name})}),Object(z.jsx)(f.a,{item:!0,children:Object(z.jsx)(O.a,{fullWidth:!0,color:"primary",children:"Revisar detalhes do pedido"})}),Object(z.jsx)(f.a,{item:!0,children:Object(z.jsx)(v.a,{className:o.dividerCart})}),Object(z.jsxs)(f.a,{item:!0,container:!0,direciton:"row",justify:"space-between",alignItems:"center",children:[Object(z.jsxs)(f.a,{xs:6,item:!0,container:!0,direciton:"row",justify:"center",alignItems:"center",children:[Object(z.jsx)(y.a,{onClick:()=>{j(d-1)},disabled:0===d,"aria-label":"remover",children:Object(z.jsx)(Je.a,{color:"primary",fontSize:"medium"})}),Object(z.jsx)(C.a,{variant:"h6",gutterBottom:!0,children:d}),Object(z.jsx)(y.a,{onClick:()=>{j(d+1)},"aria-label":"adicionar",children:Object(z.jsx)(Ne.a,{color:"primary",fontSize:"medium"})})]}),Object(z.jsx)(f.a,{xs:6,item:!0,children:Object(z.jsxs)(O.a,{onClick:()=>{i(Object(b.a)(Object(b.a)({},t),{},{quantity:d}))},color:"primary",variant:"contained",children:[0===d&&"Remover",0!==d&&"Atualizar R$ ".concat((d*(null===t||void 0===t?void 0:t.price)).toFixed(2))]})})]})]})})})};Xe.defaultProps={open:!1,item:{},onClose:()=>{},onExited:()=>{},onSubmit:()=>{}};var Ke=Xe,Ye=n(120);var Ze=Object(M.a)((e=>({images:{position:"relative",marginBottom:e.spacing(8)},banner:{width:"100%",height:e.spacing(20)},picture:{position:"absolute",left:"50%",transform:"translateX(-50%)",bottom:"-50px",width:e.spacing(13),height:e.spacing(13)},productsContainer:{minHeight:400,maxWidth:360},listContainer:{width:"100%"}})));const et=({shopfront:e,onSelect:t})=>{var n;const a=Ze(),i=e=>()=>{t(e)};return Object(z.jsxs)(f.a,{className:a.productsContainer,item:!0,container:!0,component:Ye.a,children:[Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsxs)(p.a,{className:a.images,children:[Object(z.jsx)(m.a,{className:a.banner,alt:e.name,variant:"rounded",src:e.banner}),Object(z.jsx)(m.a,{className:a.picture,alt:e.name,src:e.picture})]})}),Object(z.jsx)(f.a,{xs:12,item:!0,children:Object(z.jsx)(C.a,{alignText:"left",variant:"h4",gutterBottom:!0,children:e.name||"Produtos"})}),Object(z.jsx)(f.a,{className:a.listContainer,xs:12,item:!0,children:Object(z.jsx)(Ye.a,{elevation:0,children:Object(z.jsx)(G.a,{className:a.table,children:null===(n=e.products)||void 0===n?void 0:n.map((e=>Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Fe,{data:e,onClick:i}),Object(z.jsx)(v.a,{})]})))})})})]})};et.defaultProps={shopfront:{},onSelect:()=>{}};var tt=et,nt=n(476),at=n(441);var it=Object(M.a)((e=>({root:{height:"90vh"},content:{minHeight:"100%"},divider:{marginTop:e.spacing(5),marginBottom:e.spacing(5)},dividerCart:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},avatar:{width:"100%",height:e.spacing(20),[e.breakpoints.up("sm")]:{height:e.spacing(50)}}})));const ot={quantity:1,note:""},rt=({loading:e,createOrderLoading:t,shopfront:n,cart:a,onClean:s,onAddItem:l,onRemoveItem:j,onCreateOrder:N,onUpdateQuantityItem:S,onUpdateDelivery:A,onEmptyCartMessage:F,onAddPayment:E,onAddFederalTaxNumber:T,onDeleteFederalTaxNumber:B})=>{var D,q,M,W,V,$,L;const U=it();Object(c.useEffect)((()=>{at.a.hideBeacon()}),[]);const _=Object(c.useState)(ot),H=Object(r.a)(_,2),G=H[0],Q=H[1],X=Object(c.useState)(null),K=Object(r.a)(X,2),Z=K[0],ee=K[1],te=Object(c.useState)(!1),ae=Object(r.a)(te,2),ie=ae[0],oe=ae[1],re=Object(c.useState)(null),ce=Object(r.a)(re,2),se=ce[0],le=ce[1],de=Object(c.useState)(!1),je=Object(r.a)(de,2),ue=je[0],me=je[1],pe=Object(c.useState)(null),Oe=Object(r.a)(pe,2),he=Oe[0],ye=Oe[1],ge=Object(c.useState)(!1),Ce=Object(r.a)(ge,2),Ne=Ce[0],ke=Ce[1],Se=Object(c.useState)(!1),we=Object(r.a)(Se,2),Ae=we[0],Pe=we[1],Fe=Object(c.useState)(!1),Ie=Object(r.a)(Fe,2),Ee=Ie[0],Te=Ie[1],Re=Object(c.useState)(!1),De=Object(r.a)(Re,2),qe=De[0],Me=De[1],We=Object(c.useState)(!1),ze=Object(r.a)(We,2),Ve=ze[0],$e=ze[1],Le=Object(c.useState)(!1),Ue=Object(r.a)(Le,2),He=Ue[0],Je=Ue[1],Ge=Object(c.useState)(!1),Qe=Object(r.a)(Ge,2),Xe=Qe[0],Ye=Qe[1],Ze=()=>{oe(!1)},et=()=>{Je(!1)},rt=()=>{$e(!1)},ct=()=>{Ye(!0)},st=()=>{Ye(!1)},lt=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(Object(b.a)(Object(b.a)({},he),G));case 2:Te(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oe(!1),s();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=e=>()=>{le(e),me(!0)},jt=()=>{me(!1)},ut=()=>{le(null)},mt=()=>{Pe(!0)},pt=()=>{Pe(!1)},Ot=()=>{Me(!0)},ht=()=>{Me(!1)},xt=()=>{ke(!1)},vt=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,o,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()(t);case 3:n=e.sent,a=n.state,o=n.city,r=n.street,c=n.neighborhood,ee({postalCode:t,state:a,city:o,street:r,district:c}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),ee({postalCode:t});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,o,r,c,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.noNumber,o=Object(d.a)(t,["noNumber"]),a&&(o.number="S/N"),ht(),e.next=5,nt.a.geocodeAddress(o);case 5:return r=e.sent,c=Object(b.a)(Object(b.a)({},o),r),e.next=9,nt.a.calculateDeliveryFee(n,c);case 9:s=e.sent,l={fee:s,method:Y.l.delivery.type,address:c},A(l);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.quantity>0)){e.next=6;break}return e.next=3,S(t);case 3:jt(),e.next=10;break;case 6:return e.next=8,j(t);case 8:jt(),1===(null===a||void 0===a||null===(n=a.items)||void 0===n?void 0:n.length)&&(F(),Ze());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=Object(o.a)(i.a.mark((function e(t){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rt(),t.method!==Y.N.cash.type){e.next=5;break}Je(!0),e.next=14;break;case 5:if(a.delivery.method!==Y.l.delivery.type){e.next=11;break}return e.next=8,nt.a.calculateDeliveryFee(n,a.delivery.address);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=0;case 12:o=e.t0,E(Object(b.a)(Object(b.a)({},t),{},{deliveryFee:o}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(o.a)(i.a.mark((function e(t){var o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.delivery.method!==Y.l.delivery.type){e.next=6;break}return e.next=3,nt.a.calculateDeliveryFee(n,a.delivery.address);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=0;case 7:o=e.t0,r={method:Y.N.cash.type,received:parseFloat(t.changeFor),deliveryFee:o},E(r),et();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nt=()=>{ke(!0)},kt=function(){var e=Object(o.a)(i.a.mark((function e(t){var o,r,c,s,l,d,j,u,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt(),o={merchant:n.merchant,delivery:a.delivery,items:a.items,payments:a.payments,customer:Object(b.a)(Object(b.a)({},t),{},{nationalId:a.nationalId})},r=o.delivery.address,c=r.street,s=r.number,l=r.complement,d=r.district,j=r.city,u=r.state,m=r.postalCode,c||s||l||d||j||u||m||delete o.delivery.address,e.next=6,N(o);case 6:oe(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=!!(null===a||void 0===a||null===(D=a.items)||void 0===D?void 0:D.length)&&{actions:{badge:null===a||void 0===a||null===(q=a.items)||void 0===q?void 0:q.length,icon:Object(z.jsx)(I.a,{}),label:"Carrinho R$ ".concat(null!==(M=null===a||void 0===a||null===(W=a.subtotal)||void 0===W?void 0:W.toFixed(2))&&void 0!==M?M:"0.00"),variant:"extended",onClick:()=>{oe(!0)}}};return Object(z.jsx)(fe.a,{fab:St,bottomNavigation:!1,children:Object(z.jsxs)(p.a,{className:U.root,width:"100%",marginTop:5,children:[Object(z.jsx)(f.a,{className:U.content,container:!0,direction:"column",alignItems:"center",justify:"space-between",children:Object(z.jsx)(f.a,{xs:12,item:!0,container:!0,justify:"center",children:Object(z.jsx)(tt,{shopfront:n,onSelect:e=>{ye(e),Te(!0)}})})}),Object(z.jsx)(Be,{title:"Carrinho",open:ie,shopfront:n,cart:a,loading:t,onAddressChange:Ot,onEditItem:bt,onDeliveryMethod:mt,onAddFederalTaxNumber:ct,onClean:dt,onClose:Ze,onSubmit:Nt}),se&&Object(z.jsx)(Ke,{open:ue,item:se,onClose:jt,onExited:ut,onSubmit:yt}),Object(z.jsx)(Be,{title:"Carrinho",open:ie,shopfront:n,cart:a,address:Z,onAddressChange:Ot,onEditItem:bt,onDeliveryMethod:mt,onAddPaymentMethod:()=>{$e(!0)},onAddFederalTaxNumber:ct,onClean:dt,onClose:Ze,onSubmit:Nt}),se&&Object(z.jsx)(Ke,{open:ue,item:se,onClose:jt,onExited:ut,onSubmit:yt}),Object(z.jsx)(_e,{open:Ae,address:Z,method:a.delivery.method,onDeliveryMethodChange:e=>{e.method===Y.l.delivery.type?Ot():A(Object(b.a)({address:null},e)),pt()},onClose:pt}),Object(z.jsx)(ne,{open:Ve,method:null===(V=a.payments[0])||void 0===V?void 0:V.method,onChange:gt,onClose:rt}),Object(z.jsx)(be,{open:He,changeFor:(null===($=a.payments[0])||void 0===$?void 0:$.received)===Y.N.cash.type&&(null===(L=a.payments[0])||void 0===L?void 0:L.received),onSubmit:Ct,onClose:et}),Object(z.jsx)(J,{open:Xe,cart:a,onAddFederalTaxNumber:e=>{T(e),st()},onDeleteFederalTaxNumber:()=>{B(),st()},onClose:st}),Object(z.jsx)(xe,{title:"Adicione suas infoma\xe7\xf5es",open:Ne,onSubmit:kt,onClose:xt}),Object(z.jsx)(R.a,{title:"Detalhes do item",open:Ee,onClose:()=>{Te(!1)},onExited:()=>{ye(null),Q(ot)},children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(x.a,{children:Object(z.jsxs)(f.a,{className:U.content,container:!0,direction:"column",justify:"space-between",children:[Object(z.jsxs)(f.a,{item:!0,children:[Object(z.jsx)(m.a,{className:U.avatar,alt:null===he||void 0===he?void 0:he.name,variant:"rounded",src:null===he||void 0===he?void 0:he.image}),Object(z.jsx)(C.a,{variant:"h5",gutterBottom:!0,children:null===he||void 0===he?void 0:he.name}),Object(z.jsx)(C.a,{variant:"subtitle1",gutterBottom:!0,children:null===he||void 0===he?void 0:he.description}),Object(z.jsx)(v.a,{className:U.divider})]}),Object(z.jsxs)(f.a,{item:!0,children:[Object(z.jsx)(f.a,{container:!0,justify:"center",alignItems:"center",children:Object(z.jsx)(g.a,{value:G.note,onChange:e=>{const t=e.target.value;Q((e=>Object(b.a)(Object(b.a)({},e),{},{note:t})))},placeholder:"Adicione instru\xe7\xf5es (sem cebola, pouco arroz, etc.)",variant:"outlined",multiline:!0,rows:2,rowsMax:4,fullWidth:!0})}),Object(z.jsx)(f.a,{item:!0,children:Object(z.jsxs)(f.a,{container:!0,justify:"center",alignItems:"center",children:[Object(z.jsx)(y.a,{onClick:()=>{Q((e=>Object(b.a)(Object(b.a)({},e),{},{quantity:e.quantity-1})))},disabled:1===G.quantity,"aria-label":"remover",children:Object(z.jsx)(P.a,{fontSize:"large"})}),Object(z.jsx)(C.a,{variant:"h2",gutterBottom:!0,children:G.quantity}),Object(z.jsx)(y.a,{onClick:()=>{Q((e=>Object(b.a)(Object(b.a)({},e),{},{quantity:e.quantity+1})))},"aria-label":"adicionar",children:Object(z.jsx)(k.a,{fontSize:"large"})})]})})]})]})}),Object(z.jsx)(h.a,{children:Object(z.jsx)(O.a,{onClick:lt,fullWidth:!0,variant:"contained",color:"primary",size:"large",startIcon:Object(z.jsx)(w.a,{}),children:"Adicionar R$ ".concat((G.quantity*((null===he||void 0===he?void 0:he.price)||0)).toFixed(2))})})]})}),Object(z.jsx)(R.a,{title:"Adicione seu endere\xe7o",fullWidth:!0,open:qe,onClose:ht,onExited:()=>{ee(null)},children:Object(z.jsx)(ve.a,{initialValues:Z,onPostalCode:vt,onSubmit:ft})})]})})};rt.defaultProps={onClean:()=>{},onAddItem:()=>{},onRemoveItem:()=>{},onCreateOrder:()=>{},onUpdateQuantityItem:()=>{},onUpdateDelivery:()=>{},onEmptyCartMessage:()=>{},onAddPayment:()=>{},onAddFederalTaxNumber:()=>{},onDeleteFederalTaxNumber:()=>{}};var ct=rt,st=n(48),lt=n(146),dt=n(656),bt=n(85);const jt=()=>{const e=Object(s.g)(),t=Object(s.i)().shopfrontId,n=Object(l.c)(bt.e).data,a=Object(l.c)(dt.d,{variables:{id:t}}),c=a.data,d=a.loading,b=Object(l.b)(bt.g),j=Object(r.a)(b,1)[0],u=Object(l.b)(bt.b),m=Object(r.a)(u,1)[0],p=Object(l.b)(bt.f),O=Object(r.a)(p,1)[0],h=Object(l.b)(bt.i),x=Object(r.a)(h,1)[0],v=Object(l.b)(bt.h),f=Object(r.a)(v,1)[0],y=Object(l.b)(st.d),g=Object(r.a)(y,1)[0],C=Object(l.b)(lt.f),N=Object(r.a)(C,2),k=N[0],S=N[1].loading,w=Object(l.b)(bt.c),A=Object(r.a)(w,1)[0],P=Object(l.b)(bt.a),F=Object(r.a)(P,1)[0],I=Object(l.b)(bt.d),E=Object(r.a)(I,1)[0],T=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m({variables:{input:t}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),g({variables:{input:{variant:"error",message:"Falha ao adicionar item ao carrinho"}}});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O({variables:{input:t}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),g({variables:{input:{variant:"error",message:"Falha ao remover item ao carrinho"}}});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x({variables:{input:t}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),g({variables:{input:{variant:"error",message:"Falha ao atualizar quantidade"}}});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f({variables:{input:t}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),g({variables:{input:{variant:"error",message:"Falha ao atualizar tipo de pedido"}}});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A({variables:{input:t}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),n=e.t0.message,g({variables:{input:{variant:"error",message:n}}});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F({variables:{input:t}});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),n=e.t0.message,g({variables:{input:{variant:"error",message:n}}});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),t=e.t0.message,g({variables:{input:{variant:"error",message:t}}});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var t=Object(o.a)(i.a.mark((function t(n){var a,o,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k({variables:{input:n}});case 3:a=t.sent,o=a.data.createOrderShopfront,j(),e.push("/orders/".concat(o._id,"/preview")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r=t.t0.message,g({variables:{input:{variant:"error",message:r}}});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(z.jsx)(ct,{onClean:q,onAddItem:T,onRemoveItem:R,onUpdateQuantityItem:B,onUpdateDelivery:D,onEmptyCartMessage:()=>{g({variables:{input:{variant:"success",message:"Seu carrinho est\xe1 vazio!"}}})},shopfront:null===c||void 0===c?void 0:c.shopfronts,cart:null===n||void 0===n?void 0:n.shopfrontCart,loading:d,createOrderLoading:S,onAddPayment:M,onAddFederalTaxNumber:W,onDeleteFederalTaxNumber:V,onCreateOrder:$})};jt.defaultProps={};t.default=jt}}]);
//# sourceMappingURL=34.d71aad29.chunk.js.map