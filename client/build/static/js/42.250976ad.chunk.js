(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[42],{432:function(e,t,a){"use strict";var n=a(17),i=a(0),c=a(34),r=a.n(c),o=a(417),l=a(424),s=a(804),d=a(803),b=a(805),j=a(806),m=a(802),h=a(846),u=a(437),g=a.n(u),p=a(141),x=a(144),O=a(140),v=a(390);var f=Object(v.a)((e=>({root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),[e.breakpoints.up("md")]:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}},background:{backgroundColor:e.palette.background.default},title:{marginBottom:e.spacing(2),[e.breakpoints.up("md")]:{marginBottom:e.spacing(7)}},loading:{top:e.mixins.toolbar.minHeight},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:e.zIndex.drawer+1},bottomNavigation:{[e.breakpoints.down("md")]:{bottom:e.spacing(10)}},icon:{marginRight:e.spacing(1)},snackbar:{bottom:e.spacing(10),[e.breakpoints.up("md")]:{bottom:e.spacing(2)}},bottom:{bottom:e.spacing(18)}}))),y=a(2);const C=({className:e,children:t,actions:a,fab:c,header:u,toolbar:v,loading:C,placeholder:w,snackbar:P,bottomNavigation:k})=>{const D=f(),R=Object(i.useState)(!1),S=Object(n.a)(R,2),N=S[0],L=S[1],B=Object(i.useContext)(O.b),F=Object(n.a)(B,1)[0],E=e=>t=>{L(!1),e.onClick()},z=!Array.isArray(null===c||void 0===c?void 0:c.actions),A=w;return Object(y.jsxs)(s.a,{className:r()(D.root,e,{[D.background]:!F.prominent}),component:"main",children:[C&&Object(y.jsx)(p.a,{className:D.loading}),!C&&t,!C&&A&&w,c&&z&&Object(y.jsx)(l.a,{display:"block",displayPrint:"none",children:Object(y.jsx)(b.a,{in:z,unmountOnExit:!0,children:Object(y.jsx)(o.a,{className:r()(D.fab,{[D.bottomNavigation]:k}),badgeContent:c.actions.badge,color:"error",children:Object(y.jsxs)(d.a,{id:c.id,disabled:c.disabled,variant:c.actions.variant,color:"primary",onClick:c.actions.onClick,children:[c.actions.icon?Object(i.cloneElement)(c.actions.icon,{className:D.icon}):Object(y.jsx)(g.a,{className:r()({[D.icon]:!!c.actions.label})}),"extended"===c.actions.variant&&c.actions.label]})})})}),c&&!z&&Object(y.jsx)(l.a,{display:"block",displayPrint:"none",children:Object(y.jsx)(b.a,{in:!z,unmountOnExit:!0,children:Object(y.jsx)(o.a,{className:r()(D.fab,{[D.bottomNavigation]:k}),badgeContent:c.actions.badge,overlap:"circle",color:"error",children:Object(y.jsx)(j.a,{id:c.id,open:N,ariaLabel:"A\xe7\xf5es",icon:Object(y.jsx)(h.a,{}),onClick:()=>{L(!N)},children:c.actions.map(((e,t)=>Object(y.jsx)(m.a,{icon:e.icon,tooltipTitle:e.label,tooltipOpen:!0,onClick:E(e)},t)))})})})}),P&&Object(y.jsx)(x.a,{className:r()(D.snackbar,{[D.bottom]:c&&k})})]})};C.defaultProps={header:!0,toolbar:!1,loading:!1,snackbar:!0,bottomNavigation:!0};t.a=C},435:function(e,t,a){"use strict";var n=a(17),i=a(0),c=a(34),r=a.n(c),o=a(140),l=a(41),s=a(8),d=a(390),b=a(19);var j=Object(d.a)((e=>({root:{marginBottom:e.spacing(24),overflowX:"hidden","@media print":{display:"block",margin:"0 !important",padding:"0 !important"}},rootOpen:{[e.breakpoints.up("md")]:{marginLeft:b.b,marginBottom:0,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})}},rootClose:{[e.breakpoints.up("md")]:{marginLeft:b.c,marginBottom:0,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})}},toolbar:Object(s.a)({},e.mixins.toolbar)}))),m=a(2);const h=({children:e,toolbar:t})=>{const a=j(),c=Object(i.useContext)(o.b),s=Object(n.a)(c,1)[0],d=Object(l.a)().app;return Object(m.jsx)("div",{className:r()(a.root,{[a.rootOpen]:d.openDrawer,[a.rootClose]:!d.openDrawer}),children:Object(i.cloneElement)(e,{className:r()({[a.children]:s.overhead})})})};h.defaultProps={toolbar:!0};t.a=h},436:function(e,t,a){"use strict";a(0);var n=a(392),i=a(402),c=a(400),r=a(401),o=a(399),l=a(106),s=a(2);const d=({open:e,title:t,loading:a,primaryLabel:d,secondaryLabel:b,children:j,onExited:m,onClose:h,onPrimary:u,onSecondary:g})=>Object(s.jsxs)(n.a,{open:e,onExited:m,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(s.jsx)(o.a,{id:"alert-dialog-title",children:t}),Object(s.jsx)(c.a,{children:Object(s.jsx)(r.a,{id:"alert-dialog-description",children:j})}),Object(s.jsxs)(i.a,{children:[Object(s.jsx)(l.a,{id:"alert-dialog-secondary",color:"primary",onClick:g,children:b}),Object(s.jsx)(l.a,{id:"alert-dialog-primary",type:"submit",color:"primary",loading:a,onClick:u,children:d})]})]});d.defaultProps={open:!1,title:"",loading:!1,primaryLabel:"",secondaryLabel:"",onExited:()=>{},onClose:()=>{},onPrimary:()=>{},onSecondary:()=>{}},t.a=d},441:function(e,t,a){"use strict";const n="beacon-container";t.a={showBeacon:()=>{const e=document.getElementById(n);e&&(e.style.display="block")},hideBeacon:()=>{const e=document.getElementById(n);e&&(e.style.display="none")}}},662:function(e,t,a){"use strict";var n,i,c=a(17),r=a(0),o=a(21),l=a(11),s=a(12),d=a.n(s);const b=d()(n||(n=Object(l.a)(["\n  query reports($input: ReportInput) {\n    reports(input: $input) {\n      hasSales\n      previousStartDate\n      previousEndDate\n      interval\n      salesReport {\n        title\n        subtitle\n        header\n        data {\n          label\n          values\n        }\n      }\n      cashFlowReport {\n        title\n        subtitle\n        header\n        data {\n          label\n          values\n        }\n      }\n      retentionReport {\n        previousCount\n        currentCount\n        previous {\n          beginAt\n          endAt\n        }\n        current {\n          beginAt\n          endAt\n        }\n        retentionRate\n        churnRate\n        percentageDiff\n        loyalCustomers {\n          _id\n          name\n          mobile\n          email\n        }\n        churnedCustomers {\n          _id\n          name\n          mobile\n          email\n        }\n      }\n      salesStatisticsReport {\n        total\n        totalRevenue\n        subtotalRevenue\n        averageTicket\n        totalPercentageDiff\n        totalRevenuePercentageDiff\n        subtotalRevenuePercentageDiff\n        averageTicketPercentageDiff\n        topSellingProducts {\n          product\n          name\n          total\n          revenue\n          subtotalRevenuePercentage\n        }\n        totalFees {\n          name\n          total\n        }\n      }\n    }\n  }\n"]))),j=d()(i||(i=Object(l.a)(["\n  query reports($input: ReportInput) {\n    reports(input: $input) {\n      hasSales\n      previousStartDate\n      previousEndDate\n      interval\n      salesStatisticsReport {\n        total\n        totalRevenue\n        subtotalRevenue\n        averageTicket\n        totalPercentageDiff\n        totalRevenuePercentageDiff\n        subtotalRevenuePercentageDiff\n        averageTicketPercentageDiff\n        topSellingProducts {\n          product\n          name\n          total\n          revenue\n          subtotalRevenuePercentage\n        }\n        totalFees {\n          name\n          total\n        }\n        paymentMethods {\n          cash\n          credit\n          debt\n          voucher\n          pix\n        }\n      }\n    }\n  }\n"])));t.a=()=>{const e=Object(o.a)(b,{fetchPolicy:"network-only"}),t=Object(c.a)(e,2),a=t[0],n=t[1],i=Object(o.a)(j,{fetchPolicy:"network-only"}),l=Object(c.a)(i,2),s=l[0],d=l[1];return{getReports:[Object(r.useCallback)((e=>{a({variables:{input:e}})}),[]),n],getSalesStats:[Object(r.useCallback)((e=>{s({variables:{input:e}})}),[]),d]}}},818:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(8),c=a(17),r=a(743),o=a(40),l=a(484),s=a(552),d=a(821),b=a(73),j=a.n(b),m=a(424),h=a(403),u=a(408),g=a(507),p=a(409),x=a(717),O=a(404),v=a(407),f=a(396),y=a(609),C=a(411),w=a(120),P=a(62),k=a(704),D=a(705),R=a(700),S=a(685),N=a(701),L=a(702),B=a(340),F=a(799),E=a(105),z=a(391),A=a(755),T=a.n(A),I=a(493),K=a.n(I),M=a(756),_=a.n(M),G=a(757),H=a.n(G),q=a.p+"static/media/check.d79b1118.svg",Y=a.p+"static/media/uncheck.f26a9724.svg",V=a(436),$=a(143),W=a(432),U=a(435),X=a(34),J=a.n(X),Q=a(390);var Z=Object(Q.a)((e=>({root:{textAlign:"center"},retentionPercentage:{fontSize:e.spacing(8),textAlign:"center"},retentionPercentageSmall:{fontSize:e.spacing(4),textAlign:"center"},retentionPercentageMedium:{fontSize:e.spacing(6),textAlign:"center"},retentionPercentageLarge:{fontSize:e.spacing(8),textAlign:"center"},retentionPercentageDiff:{fontSize:e.spacing(3),marginLeft:e.spacing(1),marginRight:0},retentionPercentageDiffRedLarge:{fontSize:e.spacing(3),marginLeft:e.spacing(1),marginRight:0,color:"#e53935"},retentionPercentageDiffRedMedium:{fontSize:e.spacing(2),marginLeft:e.spacing(1),marginRight:0,color:"#e53935"},retentionPercentageDiffRedSmall:{fontSize:e.spacing(1),marginLeft:e.spacing(1),marginRight:0,color:"#e53935"},retentionPercentageDiffGreenLarge:{fontSize:e.spacing(3),marginLeft:e.spacing(1),marginRight:0,color:"#4caf50"},retentionPercentageDiffGreenMedium:{fontSize:e.spacing(2.5),marginLeft:e.spacing(1),marginRight:0,color:"#4caf50"},retentionPercentageDiffGreenSmall:{fontSize:e.spacing(2),marginLeft:e.spacing(1),marginRight:0,color:"#4caf50"},diffDates:{textAlign:"center"}}))),ee=a(2);const te=({primaryLabel:e,primaryFontSize:t,secondaryFontSize:a,secondaryNumber:n,secondaryLabel:i})=>{const c=Z();return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)(v.a,{className:c.root,item:!0,xs:!0,children:[Object(ee.jsx)(E.a,{className:J()(c.retentionPercentage,{[c.retentionPercentageSmall]:"small"===t,[c.retentionPercentageMedium]:"medium"===t,[c.retentionPercentageLarge]:"large"===t}),variant:"body1",gutterBottom:!0,display:"inline",children:e}),Object(ee.jsxs)(E.a,{className:J()(c.retentionPercentageDiff,{[c.retentionPercentageDiffGreenSmall]:n>=0&&"small"===a,[c.retentionPercentageDiffGreenMedium]:n>=0&&"medium"===a,[c.retentionPercentageDiffGreenLarge]:n>=0&&"large"===a,[c.retentionPercentageDiffRedSmall]:n<0&&"small"===a,[c.retentionPercentageDiffRedMedium]:n<0&&"medium"===a,[c.retentionPercentageDiffRedLarge]:n<0&&"large"===a}),display:"inline",variant:"subtitle2",gutterBottom:!0,children:[n>0&&"+",i]})]})})};te.defaultProps={primaryFontSize:"small",secondaryFontSize:"small"};var ae=te,ne=a(140),ie=a(75),ce=a(662),re=a(400),oe=a(64),le=a(783),se=a(7),de=a(196),be=a.n(de),je=a(474),me=a.n(je),he=a(9);var ue=Object(Q.a)((e=>({flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},table:{"& .ReactVirtualized__Table__headerRow":{flip:!1,paddingRight:"rtl"===e.direction?"0 !important":void 0}},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[200]}},tableCell:{flex:1},noClick:{cursor:"initial"}})));const ge=Object(he.a)((e=>({head:{backgroundColor:be.a[500],color:e.palette.common.white},body:{fontSize:14}})))(R.a),pe=Object(he.a)((e=>({head:{backgroundColor:me.a[600],color:e.palette.common.white},body:{fontSize:14}})))(R.a),xe=(e,t)=>e.percentage?"".concat((100*t).toFixed(2),"%"):e.price?"R$ ".concat(t.toFixed(2)):e.sliceAt?t.slice(0,e.sliceAt):t,Oe=e=>{let t=e.color,a=e.columns,n=e.rowHeight,c=e.headerHeight,r=e.onRowClick,o=Object(oe.a)(e,["color","columns","rowHeight","headerHeight","onRowClick"]);const l=ue(),s=({index:e})=>Object(se.a)(l.tableRow,l.flexContainer,{[l.tableRowHover]:-1!==e&&null!=r}),d=({cellData:e,columnIndex:t})=>{const i=a[t],c=i.numeric||i.percentage;return Object(ee.jsx)(R.a,{component:"div",className:Object(se.a)(l.tableCell,l.flexContainer,{[l.noClick]:null==r}),variant:"body",style:{height:n},align:null!=t&&c?"right":"left",children:xe(i,e)})};return Object(ee.jsx)(le.a,{children:({height:e,width:b})=>Object(ee.jsx)(le.c,Object(i.a)(Object(i.a)({height:e,width:b,rowHeight:n,gridStyle:{direction:"inherit"},headerHeight:c,className:l.table},o),{},{rowClassName:s,onRowClick:r,children:a.map(((e,n)=>{let r=e.dataKey,o=Object(oe.a)(e,["dataKey"]);return Object(ee.jsx)(le.b,Object(i.a)({headerRenderer:e=>(({label:e,columnIndex:n})=>"green"===t?Object(ee.jsx)(ge,{component:"div",className:Object(se.a)(l.tableCell,l.flexContainer,l.noClick),variant:"head",style:{height:c},align:a[n].numeric?"right":"left",children:Object(ee.jsx)("span",{children:e})}):"red"===t?Object(ee.jsx)(pe,{component:"div",className:Object(se.a)(l.tableCell,l.flexContainer,l.noClick),variant:"head",style:{height:c},align:a[n].numeric?"right":"left",children:Object(ee.jsx)("span",{children:e})}):Object(ee.jsx)(R.a,{component:"div",className:Object(se.a)(l.tableCell,l.flexContainer,l.noClick),variant:"head",style:{height:c},align:a[n].numeric?"right":"left",children:Object(ee.jsx)("span",{children:e})}))(Object(i.a)(Object(i.a)({},e),{},{columnIndex:n})),className:l.flexContainer,cellRenderer:d,dataKey:r},o),r)}))}))})};Oe.defaultProps={headerHeight:48,rowHeight:48};var ve=Oe;var fe=Object(Q.a)((e=>({root:{}})));const ye=e=>({date:e.label,expense:e.values[0],income:e.values[1],profit:e.values[2]}),Ce=({data:e})=>{const t=fe(),a=e.map(ye);return Object(ee.jsx)(re.a,{className:t.root,children:Object(ee.jsx)(w.a,{style:{height:400,width:"100%"},children:Object(ee.jsx)(ve,{rowCount:e.length,rowGetter:({index:e})=>a[e],columns:[{width:100,label:"Data",dataKey:"date"},{width:150,label:"Despesas",dataKey:"expense",numeric:!0,price:!0},{width:150,label:"Receitas",dataKey:"income",numeric:!0,price:!0},{width:150,label:"Lucro",dataKey:"profit",numeric:!0,price:!0}]})})})};Ce.defaultProps={data:[]};var we=Ce;var Pe=Object(Q.a)((e=>({root:{width:800}})));const ke=e=>({date:e.label,credit:e.values[0],debit:e.values[1],cash:e.values[2],voucher:e.values[3],pix:e.values[4]}),De=({data:e})=>{const t=Pe(),a=e.map(ke);return Object(ee.jsx)(re.a,{className:t.root,children:Object(ee.jsx)(w.a,{style:{height:500,width:"100%"},children:Object(ee.jsx)(ve,{rowCount:e.length,rowGetter:({index:e})=>a[e],columns:[{width:100,label:"Data",dataKey:"date"},{width:130,label:"Cr\xe9dito",dataKey:"credit",numeric:!0,price:!0},{width:130,label:"D\xe9bito",dataKey:"debit",numeric:!0,price:!0},{width:130,label:"Dinheiro",dataKey:"cash",numeric:!0,price:!0},{width:130,label:"Voucher",dataKey:"voucher",numeric:!0,price:!0},{width:130,label:"PIX",dataKey:"pix",numeric:!0,price:!0}]})})})};De.defaultProps={data:[]};var Re=De,Se=a(416);var Ne=Object(Q.a)((e=>({root:{margin:"auto"}})));const Le=({retentionReport:e})=>{const t=Ne();return Object(ee.jsx)(re.a,{className:t.root,children:Object(ee.jsxs)(v.a,{container:!0,direction:"row",spacing:3,children:[Object(ee.jsx)(v.a,{item:!0,xs:12,children:Object(ee.jsx)(ae,{primaryLabel:"".concat((100*e.retentionRate).toFixed(2),"%"),primaryFontSize:"large",secondaryFontSize:"large",secondaryNumber:e.percentageDiff,secondaryLabel:"".concat((100*e.percentageDiff).toFixed(2),"%")})}),Object(ee.jsx)(v.a,{item:!0,xs:12,children:Object(ee.jsx)(Se.a,{variant:"middle"})}),Object(ee.jsx)(v.a,{item:!0,xs:12,children:Object(ee.jsxs)(E.a,{display:"block",variant:"h5",gutterBottom:!0,children:["Clientes que retornaram (",e.loyalCustomers.length,")"]})}),Object(ee.jsx)(v.a,{item:!0,xs:12,children:Object(ee.jsx)(w.a,{style:{height:400,width:"100%"},children:Object(ee.jsx)(ve,{color:"green",rowCount:e.loyalCustomers.length,rowGetter:({index:t})=>e.loyalCustomers[t],columns:[{width:150,label:"Nome",dataKey:"name"},{width:120,label:"Celular",dataKey:"mobile"},{width:260,label:"Email",dataKey:"email"}]})})}),Object(ee.jsx)(v.a,{item:!0,xs:12,children:Object(ee.jsxs)(E.a,{display:"block",variant:"h5",gutterBottom:!0,children:["Clientes que n\xe3o retornaram (",e.churnedCustomers.length,")"]})}),Object(ee.jsx)(v.a,{item:!0,xs:12,children:Object(ee.jsx)(w.a,{style:{height:400,width:"100%"},children:Object(ee.jsx)(ve,{color:"red",rowCount:e.churnedCustomers.length,rowGetter:({index:t})=>e.churnedCustomers[t],columns:[{width:150,label:"Nome",dataKey:"name"},{width:120,label:"Celular",dataKey:"mobile"},{width:260,label:"Email",dataKey:"email"}]})})})]})})};Le.defaultProps={retentionReport:{}};var Be=Le,Fe=a(4);var Ee=Object(Q.a)((e=>({root:{}})));const ze=({topSellingProducts:e})=>{const t=Ee(),a=Object(o.g)();return Object(ee.jsx)(re.a,{className:t.root,children:Object(ee.jsx)(w.a,{style:{height:400,width:"100%"},children:Object(ee.jsx)(ve,{rowCount:e.length,rowGetter:({index:t})=>e[t],onRowClick:e=>{a.push("".concat(Fe.L.products.path,"/").concat(e.rowData.product))},columns:[{width:150,label:"Nome",dataKey:"name",sliceAt:30},{width:80,label:"Unidades vendidas",dataKey:"total",numeric:!0},{width:120,label:"Receita",dataKey:"revenue",price:!0},{width:120,label:"Receita total (%)",dataKey:"subtotalRevenuePercentage",percentage:!0}]})})})};ze.defaultProps={topSellingProducts:[]};var Ae=ze,Te=a(441),Ie=a(36);var Ke=Object(Q.a)((e=>({root:{},orderSummary:{marginBottom:e.spacing(4)},chart:{height:200,marginBottom:e.spacing(2)},filters:{marginBottom:e.spacing(4)},placeholder:{maxWidth:400},media:{height:200},expenses:{color:"#e53935"},revenue:{marginLeft:e.spacing(1),marginRight:e.spacing(1),color:"#1976d2"},profit:{color:"#4caf50"},credit:{color:"#1e88e5"},debit:{marginLeft:e.spacing(1),marginRight:e.spacing(1),color:"#e53935"},money:{marginLeft:e.spacing(1),marginRight:e.spacing(1),color:"#f9a825"},voucher:{marginLeft:e.spacing(1),marginRight:e.spacing(1),color:"#43a047"},pix:{color:"#9C27B0"}})));const Me=[{label:"Despesa",class:"expenses"},{label:"Receita",class:"revenue"},{label:"Lucro",class:"profit"}],_e=[{label:"Cr\xe9dito",class:"credit"},{label:"Debito",class:"debit"},{label:"Dinheiro",class:"money"},{label:"Voucher",class:"voucher"},{label:"PIX",class:"pix"}];var Ge=()=>{var e,t,a,b,A;const I=Ke(),M=Object(P.a)(),G=Object(z.a)(M.breakpoints.up("md")),X=Object(o.g)(),J=Object(ie.a)().me,Q=Object(n.useContext)(ne.b),Z=Object(c.a)(Q,2)[1],te=Object(n.useState)(j()().startOf("month")),re=Object(c.a)(te,2),oe=re[0],le=re[1],se=Object(n.useState)(j()().endOf("month")),de=Object(c.a)(se,2),be=de[0],je=de[1],me=Object(n.useState)("month"),he=Object(c.a)(me,2),ue=he[0],ge=he[1],pe=Object(n.useState)(!1),xe=Object(c.a)(pe,2),Oe=xe[0],ve=xe[1],fe=Object(n.useState)(!1),ye=Object(c.a)(fe,2),Ce=ye[0],Pe=ye[1],ke=Object(n.useState)(!1),De=Object(c.a)(ke,2),Se=De[0],Ne=De[1],Le=Object(n.useState)(!1),Ee=Object(c.a)(Le,2),ze=Ee[0],Ge=Ee[1],He=Object(n.useState)(!1),qe=Object(c.a)(He,2),Ye=qe[0],Ve=qe[1],$e=Object(n.useState)(6),We=Object(c.a)($e,2),Ue=We[0],Xe=We[1],Je=Object(n.useState)(6),Qe=Object(c.a)(Je,2),Ze=Qe[0],et=Qe[1],tt=Object(ce.a)(),at=Object(c.a)(tt.getReports,2),nt=at[0],it=at[1],ct=it.data,rt=it.loading;Object(n.useEffect)((()=>{nt({startDate:oe,endDate:be,groupBy:ue})}),[]),Object(n.useEffect)((()=>{nt({startDate:oe,endDate:be,groupBy:ue})}),[oe,be,ue]);const ot=ct&&ct.reports;Object(n.useEffect)((()=>{const e="Relat\xf3rios";Z({prominent:!1,overhead:!1,color:M.palette.secondary.main,title:e.toLowerCase()}),document.title="".concat(e," | Mee"),Ie.a.logEvent(Fe.q.SCREEN_VIEW,{screen_name:e})}),[Z,M]),Object(n.useEffect)((()=>{var e;Te.a.showBeacon(),window.Beacon("identify",{email:J.email}),(null===J||void 0===J||null===(e=J.onboarding)||void 0===e?void 0:e.finishedAddProduct)||window.Beacon("show-message","a9e637db-fdbb-4fde-9909-598b8aae1e2b")})),Object(n.useEffect)((()=>{ot&&Z((e=>Object(i.a)(Object(i.a)({},e),{},{prominent:!0,overhead:!0})))}),[ot,Z]);const lt=()=>{ve(!0)},st=()=>{ve(!1)},dt=(e,{title:t,subtitle:a,colors:n})=>{let i=[];return e?(i.push(e.header),i=i.concat(e.data.map((e=>[e.label].concat(e.values.map((e=>e)))))),Object(ee.jsx)(r.a,{width:"100%",height:300,chartType:"Bar",loader:Object(ee.jsx)("div",{children:"Carregando..."}),data:i,options:{chart:{title:t,subtitle:a},colors:n,legend:!G&&{position:"none"}}})):Object(ee.jsx)(m.a,{justify:"center",alignItems:"center",height:300,width:"98%",children:Object(ee.jsx)(O.a,{})})},bt=e=>{le(e.startOf("day"))},jt=e=>{je(e.endOf("day"))},mt=e=>{ge(e.target.value)},ht=()=>{Pe(!1)},ut=()=>{Ne(!1)},gt=()=>{Ve(!1)},pt=()=>{Ge(!1)},xt=ct&&!ct.reports.hasSales&&Object(ee.jsx)(v.a,{container:!0,spacing:3,children:Object(ee.jsx)(v.a,{item:!0,container:!0,justify:"center",xs:12,children:Object(ee.jsx)(v.a,{item:!0,children:Object(ee.jsxs)(u.a,{className:I.placeholder,children:[Object(ee.jsx)(x.a,{className:I.media,image:"https://www.somosmee.com/Frame-3.png",title:"Primeiros passos"}),Object(ee.jsx)(p.a,{children:Object(ee.jsxs)(v.a,{container:!0,spacing:3,children:[Object(ee.jsx)(v.a,{item:!0,xs:12,children:Object(ee.jsx)(E.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Primeiros passos"})}),Object(ee.jsx)(v.a,{item:!0,xs:12,children:Object(ee.jsxs)(E.a,{variant:"body2",color:"textSecondary",component:"p",children:["Aprenda a registar sua primeira venda e fuja da confus\xe3o do papel ","\ud83d\udcdd\ud83d\ude45\ud83c\udffb\u200d\u2642\ufe0f"]})}),Object(ee.jsxs)(v.a,{item:!0,xs:12,children:[(null===J||void 0===J||null===(e=J.onboarding)||void 0===e?void 0:e.finishedAddProduct)?Object(ee.jsx)("img",{alt:"check",src:q}):Object(ee.jsx)("img",{alt:"check",src:Y})," ",Object(ee.jsx)(y.a,{href:"#",onClick:e=>{e.preventDefault(),Ie.a.logEvent(Fe.q.ONBOARDING_ADD_PRODUCT_STEP),X.push({pathname:Fe.L.products.path,state:{tour:!0}})},children:Object(ee.jsxs)(E.a,{variant:"body1",display:"inline",children:["Cadastre um produto ","\ud83e\uddfa"]})})]}),Object(ee.jsxs)(v.a,{item:!0,xs:12,children:[(null===J||void 0===J||null===(t=J.onboarding)||void 0===t?void 0:t.finishedAddOrder)?Object(ee.jsx)("img",{alt:"check",src:q}):Object(ee.jsx)("img",{alt:"check",src:Y})," ",Object(ee.jsx)(y.a,{href:"#",onClick:e=>{e.preventDefault(),Ie.a.logEvent(Fe.q.ONBOARDING_ADD_ORDER_STEP),X.push({pathname:Fe.L.sales.path,state:{tour:!0,showAddOrderTour:!0}})},children:Object(ee.jsxs)(E.a,{variant:"body1",display:"inline",children:["Crie um pedido ","\ud83e\uddfe"]})})]}),Object(ee.jsxs)(v.a,{item:!0,xs:12,children:[(null===J||void 0===J||null===(a=J.onboarding)||void 0===a?void 0:a.finishedCloseOrder)?Object(ee.jsx)("img",{alt:"check",src:q}):Object(ee.jsx)("img",{alt:"check",src:Y})," ",Object(ee.jsx)(y.a,{href:"#",onClick:e=>{e.preventDefault(),Ie.a.logEvent(Fe.q.ONBOARDING_CLOSE_ORDER_STEP),X.push({pathname:Fe.L.sales.path,state:{tour:!0,showCloseOrderTour:!0}})},children:Object(ee.jsxs)(E.a,{variant:"body1",display:"inline",children:["Conclua a venda ","\ud83d\udcc8"]})})]})]})})]})})})}),Ot=e=>Object(ee.jsx)(v.a,{item:!0,container:!0,justify:"center",alignItems:"center",children:e.map(((e,t)=>Object(ee.jsxs)(E.a,{display:"inline",className:I[e.class],variant:"subtitle2",gutterBottom:!0,children:["\u2022 ",e.label]},t)))}),vt=null===ct||void 0===ct?void 0:ct.reports.salesStatisticsReport,ft=null===ct||void 0===ct?void 0:ct.reports.retentionReport,yt=null===ct||void 0===ct?void 0:ct.reports.cashFlowReport,Ct=null===yt||void 0===yt||null===(b=yt.data)||void 0===b?void 0:b.length,wt=null===ct||void 0===ct?void 0:ct.reports.salesReport,Pt=null===wt||void 0===wt||null===(A=wt.data)||void 0===A?void 0:A.length;return Object(ee.jsx)(U.a,{className:I.root,children:Object(ee.jsxs)(W.a,{placeholder:xt,loading:rt,children:[ot&&ct.reports.hasSales&&Object(ee.jsxs)(v.a,{container:!0,spacing:3,children:[Object(ee.jsxs)(ee.Fragment,{children:[!G&&Object(ee.jsx)(v.a,{item:!0,container:!0,justify:"center",alignItems:"center",xs:!0,children:Object(ee.jsx)(h.a,{variant:"outlined",onClick:lt,startIcon:Object(ee.jsx)(K.a,{}),children:"Filtros"})}),G&&Object(ee.jsx)(v.a,{container:!0,item:!0,spacing:3,justify:"center",alignItems:"center",xs:12,children:Object(ee.jsxs)(s.a,{libInstance:j.a,utils:l.a,locale:"pt-br",children:[Object(ee.jsx)(v.a,{item:!0,children:Object(ee.jsx)(d.a,{disableToolbar:!0,variant:"inline",format:"DD/MM/yyyy",margin:"normal",label:"Data inicio",value:oe,onChange:bt,KeyboardButtonProps:{"aria-label":"alterar data"}})}),Object(ee.jsx)(v.a,{item:!0,children:Object(ee.jsx)(d.a,{disableToolbar:!0,variant:"inline",format:"DD/MM/yyyy",margin:"normal",label:"Data fim",value:be,onChange:jt,KeyboardButtonProps:{"aria-label":"alterar data"}})}),Object(ee.jsx)(v.a,{item:!0,children:Object(ee.jsxs)(B.a,{select:!0,label:"Agrupar",value:ue,onChange:mt,children:[Object(ee.jsx)(C.a,{value:"day",children:"Dia"}),Object(ee.jsx)(C.a,{value:"week",children:"Semana"}),Object(ee.jsx)(C.a,{value:"month",children:"M\xeas"})]})})]})})]}),Object(ee.jsx)(v.a,{container:!0,item:!0,justify:"center",alignItems:"center",xs:12,children:Object(ee.jsxs)(E.a,{variant:"caption",gutterBottom:!0,display:"inline",children:["Comparado com: ",j()(ft.previous.beginAt).format("DD/MM/YYYY")," -"," ",j()(ft.previous.endAt).format("DD/MM/YYYY")]})}),Object(ee.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(ee.jsx)(u.a,{children:Object(ee.jsx)(p.a,{children:Object(ee.jsxs)(v.a,{container:!0,direction:"column",children:[Object(ee.jsx)(v.a,{item:!0,xs:!0,children:Object(ee.jsx)(E.a,{display:"block",variant:"body1",gutterBottom:!0,children:"Total vendas"})}),Object(ee.jsx)(ae,{primaryLabel:null===vt||void 0===vt?void 0:vt.total,primaryFontSize:"medium",secondaryFontSize:"medium",secondaryNumber:null===vt||void 0===vt?void 0:vt.totalPercentageDiff,secondaryLabel:"".concat((100*(null===vt||void 0===vt?void 0:vt.totalPercentageDiff)).toFixed(2),"%")})]})})})}),Object(ee.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(ee.jsx)(u.a,{children:Object(ee.jsx)(p.a,{children:Object(ee.jsx)(v.a,{container:!0,direction:"column",children:Object(ee.jsxs)(v.a,{item:!0,xs:!0,children:[Object(ee.jsx)(E.a,{display:"block",variant:"body1",gutterBottom:!0,children:"Ticket m\xe9dio"}),Object(ee.jsx)(ae,{primaryLabel:null===vt||void 0===vt?void 0:vt.averageTicket.toFixed(2),primaryFontSize:"medium",secondaryFontSize:"medium",secondaryNumber:null===vt||void 0===vt?void 0:vt.averageTicketPercentageDiff,secondaryLabel:"".concat((100*(null===vt||void 0===vt?void 0:vt.averageTicketPercentageDiff)).toFixed(2),"%")})]})})})})}),Object(ee.jsx)(v.a,{item:!0,xs:12,sm:Ue,children:Object(ee.jsx)(u.a,{children:Object(ee.jsxs)(p.a,{children:[Object(ee.jsxs)(v.a,{container:!0,children:[Ct&&dt(yt,{title:"Previs\xe3o de Fluxo de caixa",subtitle:"Lan\xe7amentos futuros de receitas e despesas",colors:["#e53935","#1976d2","#4caf50"]}),!Ct&&dt(null,{title:"Previs\xe3o de Fluxo de caixa",subtitle:"Lan\xe7amentos futuros de receitas e despesas",colors:["#e53935","#1976d2","#4caf50"]}),!G&&Ot(Me)]}),G&&Object(ee.jsxs)(v.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(ee.jsx)(f.a,{color:"primary","aria-label":"payment methods deatil",onClick:()=>{Ve(!0)},children:Object(ee.jsx)(T.a,{})}),Object(ee.jsx)(f.a,{onClick:()=>{Xe(6===Ue?12:6)},"aria-label":"expand",children:6===Ue?Object(ee.jsx)(F.a,{title:"Expandir",children:Object(ee.jsx)(_.a,{})}):Object(ee.jsx)(F.a,{title:"Encolher",children:Object(ee.jsx)(H.a,{})})})]})]})})}),Object(ee.jsx)(v.a,{item:!0,xs:12,sm:Ze,children:Object(ee.jsx)(u.a,{children:Object(ee.jsxs)(p.a,{children:[Object(ee.jsxs)(v.a,{container:!0,children:[Pt&&dt(wt,{title:"M\xe9todos de Pagamento",subtitle:"Vendas por m\xe9todo de pagamento"}),!Pt&&dt(null,{title:"M\xe9todos de Pagamento",subtitle:"Vendas por m\xe9todo de pagamento"}),!G&&Ot(_e)]}),G&&Object(ee.jsxs)(v.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(ee.jsx)(f.a,{color:"primary","aria-label":"payment methods deatil",onClick:()=>{Ge(!0)},children:Object(ee.jsx)(T.a,{})}),Object(ee.jsx)(f.a,{onClick:()=>{et(6===Ze?12:6)},"aria-label":"expand",children:6===Ze?Object(ee.jsx)(F.a,{title:"Expandir",children:Object(ee.jsx)(_.a,{})}):Object(ee.jsx)(F.a,{title:"Encolher",children:Object(ee.jsx)(H.a,{})})})]})]})})}),Object(ee.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(ee.jsxs)(u.a,{children:[Object(ee.jsx)(p.a,{children:Object(ee.jsxs)(v.a,{container:!0,direction:"column",children:[Object(ee.jsx)(v.a,{item:!0,xs:!0,children:Object(ee.jsx)(E.a,{display:"block",variant:"body1",gutterBottom:!0,children:"Taxa de fideliza\xe7\xe3o"})}),Object(ee.jsx)(v.a,{item:!0,xs:!0,children:Object(ee.jsx)(E.a,{display:"block",variant:"body2",color:"textSecondary",gutterBottom:!0,children:"Porcentagem de clientes que retornaram a comprar"})}),Object(ee.jsx)(ae,{primaryLabel:"".concat((100*ft.retentionRate).toFixed(2),"%"),primaryFontSize:"large",secondaryFontSize:"large",secondaryNumber:ft.percentageDiff,secondaryLabel:"".concat((100*ft.percentageDiff).toFixed(2),"%")})]})}),Object(ee.jsx)(g.a,{children:Object(ee.jsx)(f.a,{color:"primary","aria-label":"retention details",onClick:()=>{Pe(!0)},children:Object(ee.jsx)(T.a,{})})})]})}),Object(ee.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(ee.jsxs)(u.a,{children:[Object(ee.jsx)(p.a,{children:Object(ee.jsxs)(v.a,{container:!0,direction:"column",children:[Object(ee.jsx)(v.a,{item:!0,xs:!0,children:Object(ee.jsx)(E.a,{display:"block",variant:"body1",gutterBottom:!0,children:"Vendas"})}),Object(ee.jsx)(v.a,{item:!0,xs:!0,children:Object(ee.jsx)(E.a,{display:"block",variant:"body2",color:"textSecondary",gutterBottom:!0,children:"Produtos mais vendidos"})}),Object(ee.jsx)(v.a,{item:!0,xs:!0,children:vt&&Object(ee.jsx)(S.a,{component:w.a,children:Object(ee.jsxs)(k.a,{className:I.table,size:"small","aria-label":"simple table",children:[Object(ee.jsx)(N.a,{children:Object(ee.jsxs)(L.a,{children:[Object(ee.jsx)(R.a,{children:"Nome"}),Object(ee.jsx)(R.a,{align:"right",children:"Unidades vendidas"}),Object(ee.jsx)(R.a,{align:"right",children:"Receita"}),Object(ee.jsx)(R.a,{align:"right",children:"Receita total (%)"})]})}),Object(ee.jsx)(D.a,{children:vt.topSellingProducts.slice(0,5).map((e=>Object(ee.jsxs)(L.a,{children:[Object(ee.jsx)(R.a,{component:"th",scope:"row",children:e.name}),Object(ee.jsx)(R.a,{align:"right",children:e.total}),Object(ee.jsx)(R.a,{align:"right",children:"R$ ".concat(e.revenue.toFixed(2))}),Object(ee.jsxs)(R.a,{align:"right",children:[(100*e.subtotalRevenuePercentage).toFixed(2),"%"]})]},e.name)))})]})})})]})}),Object(ee.jsx)(g.a,{children:Object(ee.jsx)(f.a,{color:"primary","aria-label":"retention details",onClick:()=>{Ne(!0)},children:Object(ee.jsx)(T.a,{})})})]})}),Object(ee.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(ee.jsx)(u.a,{children:Object(ee.jsx)(p.a,{children:Object(ee.jsxs)(v.a,{container:!0,direction:"column",children:[Object(ee.jsx)(v.a,{item:!0,xs:!0,children:Object(ee.jsx)(E.a,{display:"block",variant:"body1",gutterBottom:!0,children:"Taxas"})}),Object(ee.jsx)(v.a,{item:!0,xs:!0,children:Object(ee.jsx)(E.a,{display:"block",variant:"body2",color:"textSecondary",gutterBottom:!0,children:"Total de taxas por tipo"})}),Object(ee.jsx)(v.a,{item:!0,xs:!0,children:vt&&Object(ee.jsx)(S.a,{component:w.a,children:Object(ee.jsxs)(k.a,{className:I.table,size:"small","aria-label":"simple table",children:[Object(ee.jsx)(N.a,{children:Object(ee.jsxs)(L.a,{children:[Object(ee.jsx)(R.a,{children:"Nome"}),Object(ee.jsx)(R.a,{align:"right",children:"Total"})]})}),Object(ee.jsx)(D.a,{children:vt.totalFees.map((e=>Object(ee.jsxs)(L.a,{children:[Object(ee.jsx)(R.a,{component:"th",scope:"row",children:e.name}),Object(ee.jsx)(R.a,{align:"right",children:"R$ ".concat(e.total.toFixed(2))})]},e.name)))})]})})})]})})})})]}),Object(ee.jsx)(V.a,{open:Oe,loading:!1,onClose:st,title:"Filtros",onPrimary:st,primaryLabel:"Fechar",children:Object(ee.jsx)(v.a,{container:!0,item:!0,spacing:3,justify:"center",alignItems:"center",xs:12,children:Object(ee.jsxs)(s.a,{libInstance:j.a,utils:l.a,locale:"pt-br",children:[Object(ee.jsx)(v.a,{item:!0,children:Object(ee.jsx)(d.a,{disableToolbar:!0,autoOk:!0,variant:"inline",format:"DD/MM/yyyy",margin:"normal",label:"Data inicio",value:oe,onChange:bt,KeyboardButtonProps:{"aria-label":"alterar data"}})}),Object(ee.jsx)(v.a,{item:!0,children:Object(ee.jsx)(d.a,{disableToolbar:!0,autoOk:!0,variant:"inline",format:"DD/MM/yyyy",margin:"normal",label:"Data fim",value:be,onChange:jt,KeyboardButtonProps:{"aria-label":"alterar data"}})}),Object(ee.jsx)(v.a,{item:!0,children:Object(ee.jsxs)(B.a,{fullWidth:!0,select:!0,label:"Agrupar",value:ue,onChange:mt,children:[Object(ee.jsx)(C.a,{value:"day",children:"Dia"}),Object(ee.jsx)(C.a,{value:"week",children:"Semana"}),Object(ee.jsx)(C.a,{value:"month",children:"M\xeas"})]})})]})})}),Object(ee.jsx)($.a,{open:Ce,onClose:ht,children:Object(ee.jsx)(Be,{title:"Taxa de Fideliza\xe7\xe3o",retentionReport:ft,onClose:ht})}),Object(ee.jsx)($.a,{open:Se,onClose:ut,children:Object(ee.jsx)(Ae,{title:"Produtos mais vendidos",topSellingProducts:null===vt||void 0===vt?void 0:vt.topSellingProducts,onClose:ut})}),Object(ee.jsx)($.a,{maxWidth:"md",open:ze,onClose:pt,children:Object(ee.jsx)(Re,{title:"M\xe9todos de Pagamento",data:null===wt||void 0===wt?void 0:wt.data,onClose:pt})}),Object(ee.jsx)($.a,{open:Ye,onClose:gt,children:Object(ee.jsx)(we,{title:"Previs\xe3o de Fluxo de Caixa",data:null===yt||void 0===yt?void 0:yt.data,onClose:gt})})]})})};const He=()=>Object(ee.jsx)(Ge,{});He.defaultProps={};t.default=He}}]);
//# sourceMappingURL=42.250976ad.chunk.js.map