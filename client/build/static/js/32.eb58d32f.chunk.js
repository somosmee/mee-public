(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[32],{430:function(e,t,a){"use strict";var n=a(443),r=a.n(n);a.d(t,"a",(function(){return r.a})),r.a.register("locale","br",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"o":"a"},currency:{symbol:"R$"}}),r.a.locale("br"),r.a.defaultFormat("$ 0,0.00")},432:function(e,t,a){"use strict";var n=a(17),r=a(0),i=a(34),c=a.n(i),s=a(417),o=a(424),l=a(804),u=a(803),d=a(805),b=a(806),m=a(802),p=a(846),j=a(437),O=a.n(j),v=a(141),h=a(144),x=a(140),f=a(390);var g=Object(f.a)((e=>({root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),[e.breakpoints.up("md")]:{paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}},background:{backgroundColor:e.palette.background.default},title:{marginBottom:e.spacing(2),[e.breakpoints.up("md")]:{marginBottom:e.spacing(7)}},loading:{top:e.mixins.toolbar.minHeight},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:e.zIndex.drawer+1},bottomNavigation:{[e.breakpoints.down("md")]:{bottom:e.spacing(10)}},icon:{marginRight:e.spacing(1)},snackbar:{bottom:e.spacing(10),[e.breakpoints.up("md")]:{bottom:e.spacing(2)}},bottom:{bottom:e.spacing(18)}}))),y=a(2);const C=({className:e,children:t,actions:a,fab:i,header:j,toolbar:f,loading:C,placeholder:S,snackbar:k,bottomNavigation:N})=>{const w=g(),I=Object(r.useState)(!1),R=Object(n.a)(I,2),M=R[0],T=R[1],A=Object(r.useContext)(x.b),P=Object(n.a)(A,1)[0],E=e=>t=>{T(!1),e.onClick()},q=!Array.isArray(null===i||void 0===i?void 0:i.actions),B=S;return Object(y.jsxs)(l.a,{className:c()(w.root,e,{[w.background]:!P.prominent}),component:"main",children:[C&&Object(y.jsx)(v.a,{className:w.loading}),!C&&t,!C&&B&&S,i&&q&&Object(y.jsx)(o.a,{display:"block",displayPrint:"none",children:Object(y.jsx)(d.a,{in:q,unmountOnExit:!0,children:Object(y.jsx)(s.a,{className:c()(w.fab,{[w.bottomNavigation]:N}),badgeContent:i.actions.badge,color:"error",children:Object(y.jsxs)(u.a,{id:i.id,disabled:i.disabled,variant:i.actions.variant,color:"primary",onClick:i.actions.onClick,children:[i.actions.icon?Object(r.cloneElement)(i.actions.icon,{className:w.icon}):Object(y.jsx)(O.a,{className:c()({[w.icon]:!!i.actions.label})}),"extended"===i.actions.variant&&i.actions.label]})})})}),i&&!q&&Object(y.jsx)(o.a,{display:"block",displayPrint:"none",children:Object(y.jsx)(d.a,{in:!q,unmountOnExit:!0,children:Object(y.jsx)(s.a,{className:c()(w.fab,{[w.bottomNavigation]:N}),badgeContent:i.actions.badge,overlap:"circle",color:"error",children:Object(y.jsx)(b.a,{id:i.id,open:M,ariaLabel:"A\xe7\xf5es",icon:Object(y.jsx)(p.a,{}),onClick:()=>{T(!M)},children:i.actions.map(((e,t)=>Object(y.jsx)(m.a,{icon:e.icon,tooltipTitle:e.label,tooltipOpen:!0,onClick:E(e)},t)))})})})}),k&&Object(y.jsx)(h.a,{className:c()(w.snackbar,{[w.bottom]:i&&N})})]})};C.defaultProps={header:!0,toolbar:!1,loading:!1,snackbar:!0,bottomNavigation:!0};t.a=C},435:function(e,t,a){"use strict";var n=a(17),r=a(0),i=a(34),c=a.n(i),s=a(140),o=a(41),l=a(8),u=a(390),d=a(19);var b=Object(u.a)((e=>({root:{marginBottom:e.spacing(24),overflowX:"hidden","@media print":{display:"block",margin:"0 !important",padding:"0 !important"}},rootOpen:{[e.breakpoints.up("md")]:{marginLeft:d.b,marginBottom:0,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})}},rootClose:{[e.breakpoints.up("md")]:{marginLeft:d.c,marginBottom:0,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})}},toolbar:Object(l.a)({},e.mixins.toolbar)}))),m=a(2);const p=({children:e,toolbar:t})=>{const a=b(),i=Object(r.useContext)(s.b),l=Object(n.a)(i,1)[0],u=Object(o.a)().app;return Object(m.jsx)("div",{className:c()(a.root,{[a.rootOpen]:u.openDrawer,[a.rootClose]:!u.openDrawer}),children:Object(r.cloneElement)(e,{className:c()({[a.children]:l.overhead})})})};p.defaultProps={toolbar:!0};t.a=p},439:function(e,t,a){"use strict";var n=a(20),r=a.n(n),i=a(30),c=a(17),s=a(0),o=a(21),l=a(448),u=a(142),d=a(4),b=a(36);t.a=()=>{const e=Object(u.a)().openSnackbar,t=Object(o.a)(l.f),a=Object(c.a)(t,2),n=a[0],m=a[1],p=Object(o.a)(l.e),j=Object(c.a)(p,2),O=j[0],v=j[1],h=Object(o.b)(l.h),x=Object(c.a)(h,2),f=x[0],g=x[1],y=Object(o.b)(l.g),C=Object(c.a)(y,2),S=C[0],k=C[1],N=Object(o.b)(l.c),w=Object(c.a)(N,2),I=w[0],R=w[1],M=Object(o.b)(l.b),T=Object(c.a)(M,2),A=T[0],P=T[1],E=Object(o.b)(l.d),q=Object(c.a)(E,2),B=q[0],G=q[1],W=Object(o.b)(l.a),F=Object(c.a)(W,2),V=F[0],z=F[1],L=Object(s.useCallback)((e=>{n({variables:{input:e}})}),[]),$=Object(s.useCallback)((e=>{O({variables:{input:e}})}),[]),D=function(){var t=Object(i.a)(r.a.mark((function t(a,n={message:"Informa\xe7\xf5es atualizadas!"}){var i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S({variables:{input:a}});case 3:return i=t.sent,c=i.data.signinCompany,e({variant:"success",message:n.message}),t.abrupt("return",c);case 9:throw t.prev=9,t.t0=t.catch(0),e({variant:"error",message:t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(i.a)(r.a.mark((function t(a,n={message:"Informa\xe7\xf5es atualizadas!"}){var i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f({variables:{input:a}});case 3:return i=t.sent,c=i.data.updateMyCompany,a.address&&b.a.logEvent(d.q.SET_ADDRESS),e({variant:"success",message:n.message}),t.abrupt("return",c);case 10:throw t.prev=10,t.t0=t.catch(0),e({variant:"error",message:t.t0.message}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),X=function(){var t=Object(i.a)(r.a.mark((function t(a,n={message:"Convite enviado!"}){var i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I({variables:{input:a}});case 3:return i=t.sent,c=i.data.createMember,e({variant:"success",message:n.message}),t.abrupt("return",c);case 9:throw t.prev=9,t.t0=t.catch(0),e({variant:"error",message:t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(i.a)(r.a.mark((function t(a,n={message:"Convite enviado!"}){var i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B({variables:{input:a}});case 3:return i=t.sent,c=i.data.deleteMember,e({variant:"success",message:n.message}),t.abrupt("return",c);case 9:throw t.prev=9,t.t0=t.catch(0),e({variant:"error",message:t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(i.a)(r.a.mark((function t(a,n={}){var i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V({variables:{input:a}});case 3:return i=t.sent,c=i.data.acceptInvite,t.abrupt("return",c);case 8:throw t.prev=8,t.t0=t.catch(0),e({variant:"error",message:t.t0.message}),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=Object(i.a)(r.a.mark((function t(a,n={}){var i,c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A({variables:{input:a}});case 3:return c=t.sent,s=c.data.createMember,n.message&&e({variant:"success",message:n.message}),null===v||void 0===v||null===(i=v.refetch)||void 0===i||i.call(v),t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(0),e({variant:"error",message:t.t0.message}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return{getMyCompany:[L,m],getMyCompanies:[$,v],createMember:[X,R],createCompany:[H,P],deleteMember:[J,G],acceptInvite:[_,z],signinCompany:[D,k],updateMyCompany:[U,g]}}},441:function(e,t,a){"use strict";const n="beacon-container";t.a={showBeacon:()=>{const e=document.getElementById(n);e&&(e.style.display="block")},hideBeacon:()=>{const e=document.getElementById(n);e&&(e.style.display="none")}}},448:function(e,t,a){"use strict";a.d(t,"f",(function(){return j})),a.d(t,"e",(function(){return O})),a.d(t,"h",(function(){return v})),a.d(t,"g",(function(){return h})),a.d(t,"c",(function(){return x})),a.d(t,"d",(function(){return f})),a.d(t,"a",(function(){return g})),a.d(t,"b",(function(){return y}));var n,r,i,c,s,o,l,u,d=a(11),b=a(12),m=a.n(b),p=a(57);const j=m()(n||(n=Object(d.a)(["\n  query me {\n    myCompany {\n      ...companyAttributes\n    }\n  }\n  ","\n"])),p.b),O=m()(r||(r=Object(d.a)(["\n  query me {\n    myCompanies {\n      ...companyAttributes\n    }\n  }\n  ","\n"])),p.b),v=m()(i||(i=Object(d.a)(["\n  mutation($input: UpdateMyCompanyInput!) {\n    updateMyCompany(input: $input) {\n      ...companyAttributes\n    }\n  }\n  ","\n"])),p.b),h=m()(c||(c=Object(d.a)(["\n  mutation($input: SigninCompanyInput!) {\n    signinCompany(input: $input) {\n      token\n      user {\n        ...userAttributes\n      }\n      company {\n        ...companyAttributes\n      }\n    }\n  }\n  ","\n  ","\n"])),p.b,p.d),x=m()(s||(s=Object(d.a)(["\n  mutation($input: CreateMemberInput!) {\n    createMember(input: $input) {\n      ...companyAttributes\n    }\n  }\n  ","\n"])),p.b),f=m()(o||(o=Object(d.a)(["\n  mutation($input: DeleteMemberInput!) {\n    deleteMember(input: $input) {\n      ...companyAttributes\n    }\n  }\n  ","\n"])),p.b),g=m()(l||(l=Object(d.a)(["\n  mutation($input: AcceptInviteInput!) {\n    acceptInvite(input: $input) {\n      token\n      user {\n        ...userAttributes\n      }\n      company {\n        ...companyAttributes\n      }\n    }\n  }\n\n  ","\n  ","\n"])),p.b,p.d),y=m()(u||(u=Object(d.a)(["\n  mutation($input: CreateCompanyInput!) {\n    createCompany(input: $input) {\n      ...companyAttributes\n    }\n  }\n  ","\n"])),p.b)},467:function(e,t,a){"use strict";var n=a(8),r=a(64),i=(a(0),a(508)),c=a.n(i),s=a(343),o=a(344),l=a(341),u=a(352),d=a(2);const b=e=>{const t=e.inputRef,a=e.mask,i=e.placeholder,s=Object(r.a)(e,["inputRef","mask","placeholder"]);return Object(d.jsx)(c.a,Object(n.a)(Object(n.a)({},s),{},{ref:e=>{t(e?e.inputElement:null)},guide:!1,placeholder:i,mask:a,placeholderChar:"\u2000",showMask:!0}))};t.a=e=>Object(d.jsxs)(s.a,Object(n.a)(Object(n.a)({},e),{},{fullWidth:e.fullWidth,error:!!e.meta.error&&e.meta.touched,children:[Object(d.jsx)(u.a,Object(n.a)(Object(n.a)({},e),{},{htmlFor:e.id,children:e.label})),Object(d.jsx)(l.a,Object(n.a)(Object(n.a)(Object(n.a)({id:e.id},e),e.input),{},{inputProps:{mask:e.mask,placeholder:e.placeholder},inputComponent:b,"aria-describedby":"my-helper-text"})),e.helperText&&e.meta.error&&Object(d.jsx)(o.a,{id:"".concat(e.id,"-helper-text"),children:e.meta.error})]}))},476:function(e,t,a){"use strict";a.d(t,"b",(function(){return m}));var n=a(482),r=a(20),i=a.n(r),c=a(17),s=a(30),o=a(518),l=a.n(o),u=a(4);const d=e=>"".concat(e.street,", ").concat(e.number," - ").concat(e.district,", ").concat(e.city," - ").concat(e.state,", ").concat(e.postalCode,", Brasil"),b=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,s,o,u,b,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d(t),r="https://maps.googleapis.com/maps/api/geocode/json?address=".concat(encodeURIComponent(n),"&key=AIzaSyDrpdmTAct0wy9t4pevLSncM2sFyG7wIsI"),e.next=4,l.a.get(r);case 4:if(s=e.sent,o=null===(a=s.data)||void 0===a?void 0:a.results,u=Object(c.a)(o,1),!(null===(b=u[0])||void 0===b?void 0:b.geometry)){e.next=8;break}return e.abrupt("return",null===b||void 0===b||null===(m=b.geometry)||void 0===m?void 0:m.location);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=e=>{if(!e)return"";if(!e.street&&!e.number&&!e.complement&&!e.district&&!e.city&&!e.state&&!e.postalCode)return"";let t="";return e.street&&(t=t.concat(e.street)),e.number&&(t=t.concat(", ".concat(e.number))),e.complement&&(t=t.concat(", ".concat(e.complement))),e.district&&(t=t.concat(", ".concat(e.district))),e.city&&(t=t.concat(" - ".concat(e.city))),e.state&&(t=t.concat(", ".concat(e.state))),e.postalCode&&(t=t.concat(" - ".concat(e.postalCode))),t},p=(e,t,a,n)=>{var r=j(a-e),i=j(n-t),c=Math.sin(r/2)*Math.sin(r/2)+Math.cos(j(e))*Math.cos(j(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},j=e=>e*(Math.PI/180);t.a={geocodeAddress:b,stringifyAddress:d,formatAddress:m,calculateDeliveryFee:(e,t)=>{const a=(r=t,i=e.address,p(r.lat,r.lng,i.lat,i.lng));var r,i;if(e.delivery){var c,s=Object(n.a)(e.delivery);try{for(s.s();!(c=s.n()).done;){const e=c.value;if(e.condition===u.g.LESS_THAN){if(a<=e.distance)return e.fee}else if(a>=e.distance)return e.fee}}catch(o){s.e(o)}finally{s.f()}}return 0}}},490:function(e,t,a){"use strict";var n=a(8),r=a(0),i=a(90),c=a(517),s=a.n(c),o=a(599),l=a(553),u=a(407),d=a(397),b=a(107),m=a(467),p=a(390);var j=Object(p.a)((e=>({root:{},content:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},formControlLabel:{whiteSpace:"nowrap",fontSize:e.spacing(1.5)},actions:{padding:e.spacing(2)},actionPaper:{zIndex:1}}))),O=a(2);const v=e=>{const t={};return e.postalCode?e.postalCode&&!s()(e.postalCode,"BR")&&(t.postalCode="CEP inv\xe1lido"):t.postalCode="CEP em branco",e.district||(t.district="Bairro em branco"),e.street||(t.street="Rua em branco"),e.number||e.noNumber||(t.number="N\xfamero em branco"),t},h=({initialValues:e,onPostalCode:t,actions:a,onSubmit:c})=>{const s=j(),p=Object(r.useRef)(),h=Object(r.useRef)(),x=Object(i.b)({initialValues:e,onSubmit:c,validate:v}),f=x.form,g=x.handleSubmit,y=x.values,C=x.invalid,S=x.pristine,k=x.submitting,N=Object(i.a)("postalCode",f),w=Object(i.a)("state",f),I=Object(i.a)("city",f),R=Object(i.a)("district",f),M=Object(i.a)("street",f),T=Object(i.a)("number",f),A=Object(i.a)("noNumber",f),P=Object(i.a)("complement",f);Object(r.useEffect)((()=>{e||p.current.focus()}),[]),Object(r.useEffect)((()=>{!e||"number"in y||"complement"in y||h.current.focus()}),[null===e||void 0===e?void 0:e.state,null===e||void 0===e?void 0:e.street,null===e||void 0===e?void 0:e.city,null===e||void 0===e?void 0:e.district,y.number,y.complement]);const E=!!A.input.value;return Object(O.jsxs)(u.a,{container:!0,spacing:2,component:"form",autoComplete:"off",onSubmit:g,children:[Object(O.jsx)(u.a,{item:!0,xs:6,children:Object(O.jsx)(m.a,Object(n.a)(Object(n.a)({},N),{},{id:"postalCode",type:"text",inputRef:p,label:"CEP",mask:[/\d/,/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/],disabled:null===e||void 0===e?void 0:e._id,required:!0,fullWidth:!0,onChange:e=>{const a=e.target.value;9===a.length&&t(a)}}))}),Object(O.jsx)(u.a,{item:!0,xs:6}),Object(O.jsx)(u.a,{item:!0,xs:6,children:Object(O.jsx)(b.a,Object(n.a)(Object(n.a)({},I),{},{id:"city",type:"text",label:"Cidade",required:!0,disabled:!0,fullWidth:!0}))}),Object(O.jsx)(u.a,{item:!0,xs:6,children:Object(O.jsx)(b.a,Object(n.a)(Object(n.a)({},w),{},{id:"state",type:"text",label:"Estado",required:!0,disabled:!0,fullWidth:!0}))}),Object(O.jsx)(u.a,{item:!0,xs:12,children:Object(O.jsx)(b.a,Object(n.a)(Object(n.a)({},R),{},{id:"district",type:"text",label:"Bairro",required:!0,fullWidth:!0}))}),Object(O.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(O.jsx)(b.a,Object(n.a)(Object(n.a)({},M),{},{id:"street",type:"text",label:"Rua/Avenida",required:!0,fullWidth:!0}))}),Object(O.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(O.jsx)(b.a,Object(n.a)(Object(n.a)({},T),{},{id:"number",type:"text",inputRef:h,label:"N\xfamero",required:!0,fullWidth:!0,disabled:E,InputProps:{endAdornment:Object(O.jsx)(d.a,{position:"end",children:Object(O.jsx)(l.a,{classes:{label:s.formControlLabel},control:Object(O.jsx)(o.a,Object(n.a)(Object(n.a)({},A.input),{},{id:"noNumber",checked:E,color:"primary",inputProps:{"aria-label":"Sem n\xfamero"}})),label:"Sem n\xfamero"})})}}))}),Object(O.jsx)(u.a,{item:!0,xs:12,md:6,children:Object(O.jsx)(b.a,Object(n.a)(Object(n.a)({},P),{},{id:"complement",type:"text",label:"Complemento",placeholder:"Andar/Apartamento",fullWidth:!0}))}),Object(O.jsx)(u.a,{item:!0,xs:12,children:a&&a(k,S,C)})]})};h.defaultProps={onPostalCode:()=>{},onSubmit:()=>{}};t.a=h},519:function(e,t,a){"use strict";var n=a(8),r=a(17),i=a(64),c=a(0),s=a(544),o=a(34),l=a.n(o),u=a(664),d=a(424),b=a(675),m=a(105),p=a(540),j=a.n(p),O=a(541),v=a.n(O),h=a(390);var x=Object(h.a)((e=>({root:{position:"relative",width:e.spacing(7),height:e.spacing(7),color:e.palette.common.white},box:{display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.common.black,width:"inherit",height:"inherit",marginBottom:e.spacing(1),borderRadius:10,border:"1px dashed ".concat(e.palette.divider)},avatar:{width:"inherit",height:"inherit"},icon:{position:"absolute",top:"40%",left:"50%",transform:"translateX(-50%)"}}))),f=a(2);const g=e=>{var t,a;let o=e.className,p=e.avatar,O=e.accept,h=e.onChange,g=(e.children,e.src),y=Object(i.a)(e,["className","avatar","accept","onChange","children","src"]);const C=x(),S=Object(c.useState)([]),k=Object(r.a)(S,2),N=k[0],w=k[1],I=Object(c.useCallback)((e=>{w(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)})))),h(e[0])}),[]),R=Object(s.a)({onDrop:I,accept:O,maxFiles:1}),M=R.getRootProps,T=R.getInputProps,A=M(),P=A.ref,E=Object(i.a)(A,["ref"]);Object(c.useEffect)((()=>()=>{N.forEach((e=>URL.revokeObjectURL(e.preview)))}),[N]);return Object(f.jsxs)(b.a,{rootRef:P,children:[Object(f.jsxs)(d.a,Object(n.a)(Object(n.a)({className:l()(C.root,o,{[C.avatar]:p})},E),{},{children:[Object(f.jsx)("input",Object(n.a)({},T())),p&&Object(f.jsx)(u.a,Object(n.a)({className:C.avatar,src:null!==(t=null===(a=N[0])||void 0===a?void 0:a.preview)&&void 0!==t?t:g},y)),p?Object(f.jsx)(j.a,{className:C.icon,color:"inherit"}):Object(f.jsxs)(d.a,{className:C.box,children:[Object(f.jsx)(v.a,{color:"inherit",fontSize:"large"}),Object(f.jsx)(m.a,{color:"textSecondary",children:"Arraste e solte seu arquivo aqui"})]})]})),!p&&Object(f.jsx)("div",{children:N.map((e=>Object(f.jsxs)(m.a,{variant:"caption",color:"textSecondary",children:[e.path," - ",e.size," bytes"]},e.path)))})]})};g.defaultProps={avatar:!0,onChange:()=>{}};t.a=g},537:function(e,t,a){"use strict";var n=a(8),r=a(64),i=a(20),c=a.n(i),s=a(30),o=a(17),l=a(0),u=a(516),d=a.n(u),b=a(507),m=a(106),p=a(177),j=a(490),O=a(439),v=a(476),h=a(2);t.a=e=>{const t=Object(l.useState)(e),a=Object(o.a)(t,2),i=a[0],u=a[1],x=Object(O.a)(),f=Object(o.a)(x.updateMyCompany,1)[0];return{addressProps:{initialValues:null!==i&&void 0!==i?i:e,onPostalCode:function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()(t);case 3:a=e.sent,n=a.state,r=a.city,i=a.street,s=a.neighborhood,u({postalCode:t,state:n,city:r,street:i,district:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),u({postalCode:t});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),onSubmit:function(){var e=Object(s.a)(c.a.mark((function e(t){var a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.noNumber,i=Object(r.a)(t,["noNumber"]),a&&(i.number="S/N"),e.next=4,v.a.geocodeAddress(i);case 4:return s=e.sent,e.next=7,f({address:Object(n.a)(Object(n.a)({},i),s)});case 7:u(null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),actions:(t,a,n)=>Object(h.jsxs)(b.a,{children:[Object(h.jsx)(p.a,{}),Object(h.jsx)(m.a,{type:"submit",variant:"contained",color:"primary",loading:t,disabled:a||n,children:e?"Atualizar":"Salvar"})]})},UpsertAddressForm:j.a}}},825:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(20),i=a.n(r),c=a(8),s=a(64),o=a(30),l=a(17),u=a(21),d=a(507),b=a(804),m=a(678),p=a(679),j=a(688),O=a(689),v=a(105),h=a(106),x=a(432),f=a(435),g=a(519),y=a(48),C=a(140),S=a(90),k=a(407),N=a(107),w=a(390);var I=Object(w.a)((e=>({root:{}}))),R=a(2);const M=e=>{const t={};return e.password||(t.password="Senha em branco"),t},T=({initialValues:e,actions:t,onSubmit:a})=>{const n=I(),r=Object(S.b)({initialValues:e,onSubmit:a,validate:M}),i=r.form,s=r.handleSubmit,o=r.invalid,l=r.pristine,u=r.submitting,d=Object(S.a)("password",i);return Object(R.jsxs)(k.a,{className:n.root,container:!0,component:"form",autoComplete:"off",onSubmit:s,spacing:1,children:[Object(R.jsx)(k.a,{item:!0,xs:12,children:Object(R.jsx)(N.a,Object(c.a)(Object(c.a)({},d),{},{type:"password",placeholder:"Senha do certificado digital A1",required:!0,fullWidth:!0}))}),t&&t(u,l,o,s)]})};T.defaultProps={onSubmit:()=>{}};var A=T,P=a(411),E=a(4);var q=Object(w.a)((e=>({root:{}})));const B=e=>{const t={};return e.nationalId||(t.nationalId="CNPJ em branco"),e.name||(t.name="Raz\xe3o Social em branco"),e.stateId||(t.stateId="Inscri\xe7\xe3o Estadual em branco"),e.regime||(t.regime="Regime Tribut\xe1rio em branco"),t},G=({initialValues:e,actions:t,onSubmit:a})=>{const r=q(),i=Object(n.useRef)(),s=Object(S.b)({initialValues:e,onSubmit:a,validate:B}),o=s.form,l=s.handleSubmit,u=s.invalid,d=s.pristine,b=s.submitting,m=Object(S.a)("nationalId",o),p=Object(S.a)("name",o),j=Object(S.a)("stateId",o),O=Object(S.a)("regime",o);Object(n.useEffect)((()=>{e||i.current.focus()}),[]);return Object(R.jsxs)(k.a,{className:r.root,container:!0,spacing:2,component:"form",autoComplete:"off",onSubmit:l,children:[Object(R.jsx)(k.a,{item:!0,xs:6,children:Object(R.jsx)(N.a,Object(c.a)(Object(c.a)({},m),{},{label:"CNPJ",required:!0,inputRef:i}))}),Object(R.jsx)(k.a,{item:!0,xs:6,children:Object(R.jsx)(N.a,Object(c.a)(Object(c.a)({},p),{},{label:"Raz\xe3o Social",required:!0}))}),Object(R.jsx)(k.a,{item:!0,xs:6,children:Object(R.jsx)(N.a,Object(c.a)(Object(c.a)({},j),{},{label:"Inscri\xe7\xe3o Estadual",required:!0}))}),Object(R.jsx)(k.a,{item:!0,xs:6,children:Object(R.jsxs)(N.a,Object(c.a)(Object(c.a)({select:!0,required:!0},O),{},{label:"Regime",helperText:"Selecione o Regime Tribut\xe1rio",children:[Object(R.jsx)(P.a,{value:null,children:"Nenhum"}),Object.values(E.X).map(((e,t)=>Object(R.jsx)(P.a,{value:e.value,children:e.name},t)))]}))}),Object(R.jsx)(k.a,{item:!0,xs:12,children:t&&t(b,d,u)})]})};G.defaultProps={onSubmit:()=>{}};var W=G,F=a(425),V=a(430);const z={AC:.17,AL:.12,AM:.18,AP:.18,BA:.18,CE:.18,DF:.18,ES:.17,GO:.17,MA:.18,MT:.17,MS:.17,MG:.18,PA:.17,PB:.18,PR:.18,PE:.18,PI:.18,RN:.18,RS:.18,RJ:.2,RO:.175,RR:.17,SC:.17,SP:.18,SE:.18,TO:.18},L=["40","41","60"],$=["103","300","400","203","500"],D=["07"],U={cumulative:{pis:.0065,cofins:.03},nonCumulative:{pis:.0165,cofins:.076}};var X=(e,t,a,n)=>{if(L.includes(t))return 0;if($.includes(a))return 0;const r=z[e.toUpperCase()];if(!r)throw new Error("Taxa de ICMS n\xe3o foi encontrada para esse estado");return parseFloat(n*r)},J=(e,t,a)=>{if(D.includes(t))return 0;const n=U[e];return a*(n.pis+n.cofins)};var _=Object(w.a)((e=>({root:{}})));const H=e=>{const t={};return e.icmsOrigin||(t.icmsOrigin="Origem da mercadoria em branco"),e.icmsTaxGroup||(t.icmsTaxGroup="Grupo tributa\xe7\xe3o ICMS em branco"),e.icmsCSOSN||(t.icmsCSOSN="CSOSN em branco"),e.incidenceRegime||(t.incidenceRegime="Regime de incid\xeancia em branco"),e.pisCofinsTaxGroup||(t.pisCofinsTaxGroup="Tipo de tributa\xe7\xe3o PIS/COFINS em branco"),t},K=({initialValues:e,state:t,regime:a,actions:n,onSubmit:r})=>{const i=_(),s=Object(S.b)({initialValues:Object(c.a)(Object(c.a)({},e),{},{pisCofinsTaxGroup:"01",icmsOrigin:"0"}),onSubmit:r,validate:H}),o=s.form,l=s.handleSubmit,u=s.values,d=s.invalid,b=s.pristine,m=s.submitting,p=Object(S.a)("icmsOrigin",o),j=Object(S.a)("icmsTaxGroup",o),O=Object(S.a)("icmsCSOSN",o),h=Object(S.a)("incidenceRegime",o),x=Object(S.a)("pisCofinsTaxGroup",o);let f=E.X.simplesNacional.value;const g=a===E.X.simplesNacional.value||a===E.X.simplesNacionalRevenue.value;f=g?E.v:E.t;const y=(e,t)=>Object(R.jsx)(P.a,{value:e.value,children:e.name},t),C=t&&u.icmsTaxGroup&&u.icmsCSOSN,w=u.incidenceRegime&&u.pisCofinsTaxGroup;return Object(R.jsxs)(k.a,{className:i.root,container:!0,spacing:3,component:"form",autoComplete:"off",onSubmit:l,children:[Object(R.jsx)(k.a,{item:!0,xs:12,children:Object(R.jsx)(F.a,{severity:"warning",children:"No momento s\xf3 trabalhamos com mercadorias nacionais e vendas interestaduais!"})}),Object(R.jsx)(k.a,{item:!0,xs:12,children:Object(R.jsx)(v.a,{variant:"overline",display:"block",gutterBottom:!0,children:"ICMS"})}),Object(R.jsx)(k.a,{item:!0,xs:12,children:Object(R.jsxs)(N.a,Object(c.a)(Object(c.a)({select:!0,required:!0},j),{},{label:"Grupo de Tributa\xe7\xe3o",fullWidth:!0,helperText:"Selecione o grupo de tributa\xe7\xe3o do ICMS",children:[Object(R.jsx)(P.a,{value:null,children:"Nenhum"}),Object.values(f).map(y)]}))}),u.icmsTaxGroup&&g&&Object(R.jsx)(k.a,{item:!0,xs:12,children:Object(R.jsxs)(N.a,Object(c.a)(Object(c.a)({select:!0,required:!0},O),{},{label:"CSOSN",fullWidth:!0,helperText:"C\xf3digo de Situa\xe7\xe3o da Opera\xe7\xe3o do Simples Nacional",children:[Object(R.jsx)(P.a,{value:null,children:"Nenhum"}),Object.values(E.s[parseInt(u.icmsTaxGroup)]).map(y)]}))}),Object(R.jsx)(k.a,{item:!0,xs:12,children:Object(R.jsxs)(N.a,Object(c.a)(Object(c.a)({select:!0,required:!0,disabled:!0},p),{},{label:"Origem da mercadoria",fullWidth:!0,helperText:"Selecione a origem da mercadoria",children:[Object(R.jsx)(P.a,{value:"",children:"Nenhum"}),Object.values(E.u).map(y)]}))}),Object(R.jsx)(k.a,{item:!0,xs:12,children:Object(R.jsx)(v.a,{variant:"overline",display:"block",gutterBottom:!0,children:"PIS/COFINS"})}),Object(R.jsx)(k.a,{item:!0,xs:12,children:Object(R.jsxs)(N.a,Object(c.a)(Object(c.a)({select:!0,required:!0},h),{},{label:"Regime de Incid\xeancia",fullWidth:!0,helperText:"Selecione o regime de Incid\xeancia",children:[Object(R.jsx)(P.a,{value:null,children:"Nenhum"}),Object.values(E.z).map(y)]}))}),Object(R.jsx)(k.a,{item:!0,xs:12,children:Object(R.jsxs)(N.a,Object(c.a)(Object(c.a)({select:!0,required:!0},x),{},{label:"Tipo de tributa\xe7\xe3o",fullWidth:!0,children:[Object(R.jsx)(P.a,{value:null,children:"Nenhum"}),Object.values(E.P).map(y)]}))}),Object(R.jsx)(k.a,{item:!0,xs:12,children:Object(R.jsx)(v.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Exemplo"})}),Object(R.jsxs)(k.a,{item:!0,xs:12,children:[Object(R.jsxs)(v.a,{variant:"subtitle1",display:"block",gutterBottom:!0,children:["Em uma venda de ",Object(R.jsx)("b",{children:Object(V.a)(100).format()})," voc\xea pagar\xe1:"]}),Object(R.jsxs)(v.a,{variant:"subtitle1",display:"block",gutterBottom:!0,children:[Object(R.jsx)("b",{children:C?Object(V.a)(X(t,u.icmsTaxGroup,u.icmsCSOSN,100)).format():Object(V.a)(0).format()})," ","de ICMS"]}),Object(R.jsxs)(v.a,{variant:"subtitle1",display:"block",gutterBottom:!0,children:[Object(R.jsxs)("b",{children:[" ",w?Object(V.a)(J(u.incidenceRegime,u.pisCofinsTaxGroup,100)).format():Object(V.a)(0).format()]})," ","de PIS/COFINS"]})]}),Object(R.jsx)(k.a,{item:!0,xs:12,children:n&&n(m,b,d)})]})};K.defaultProps={onSubmit:()=>{}};var Q=K,Y=a(439),Z=a(537),ee=a(476),te=a(441),ae=a(36);var ne=Object(w.a)((e=>({root:{},file:{width:"100%",height:e.spacing(12.5),marginBottom:e.spacing(2)}})));const re=()=>{var e,t,a;const r=ne(),S=Object(n.useContext)(C.b),k=Object(l.a)(S,2)[1],N=Object(Y.a)(),w=Object(l.a)(N.getMyCompany,2),I=w[0],M=w[1].data,T=Object(l.a)(N.updateMyCompany,2),P=T[0],q=T[1].loading,B=null===M||void 0===M?void 0:M.myCompany,G=Object(n.useState)(0),F=Object(l.a)(G,2),V=F[0],z=F[1],L=Object(Z.a)(null===B||void 0===B?void 0:B.address),$=L.UpsertAddressForm,D=L.addressProps,U=Object(n.useState)(null),X=Object(l.a)(U,2),J=X[0],_=X[1],H=Object(u.b)(y.d),K=Object(l.a)(H,1)[0];Object(n.useEffect)((()=>{const e="Nota Fiscal";k({prominent:!1,overhead:!1,color:"white",title:e.toLowerCase()}),document.title="".concat(e," | Mee"),ae.a.logEvent(E.q.SCREEN_VIEW,{screen_name:e})}),[k]),Object(n.useEffect)((()=>{te.a.showBeacon()}),[]),Object(n.useEffect)((()=>{I()}),[]);const re=()=>{z((e=>e-1))},ie=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.noNumber,n=Object(s.a)(t,["noNumber"]),a&&(n.number="S/N"),e.next=4,ee.a.geocodeAddress(n);case 4:return r=e.sent,e.next=7,P({address:Object(c.a)(Object(c.a)({},n),r)});case 7:z((e=>e+1));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P({nationalId:t.nationalId,stateId:t.stateId,name:t.name,tax:{regime:t.regime}});case 3:z((e=>e+1)),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),a=e.t0.message,K({variables:{input:{variant:"error",message:a}}});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P({tax:{icmsOrigin:t.icmsOrigin,icmsTaxGroup:t.icmsTaxGroup,icmsCSOSN:t.icmsCSOSN,incidenceRegime:t.incidenceRegime,pisCofinsTaxGroup:t.pisCofinsTaxGroup}});case 3:z((e=>e+1)),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),a=e.t0.message,K({variables:{input:{variant:"error",message:a}}});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(o.a)(i.a.mark((function e({password:t}){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P({certificate:{file:J,password:t}});case 3:K({variables:{input:{variant:"success",message:"Dados salvos"}}}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),a=e.t0.message,K({variables:{input:{variant:"error",message:a}}});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),le=null===B||void 0===B?void 0:B.tax;return Object(R.jsx)(f.a,{className:r.root,children:Object(R.jsx)(x.a,{children:Object(R.jsxs)(b.a,{maxWidth:"sm",children:[Object(R.jsx)(v.a,{variant:"h5",paragraph:!0,children:"Configurar emiss\xe3o NFC-e"}),Object(R.jsx)(v.a,{variant:"subtitle1",color:"textSecondary",paragraph:!0,children:"Recomendamos que voc\xea revise as informa\xe7\xf5es salvas abaixo com seu contador"}),Object(R.jsxs)(O.a,{activeStep:V,orientation:"vertical",children:[Object(R.jsxs)(m.a,{children:[Object(R.jsx)(j.a,{children:"Informe o endere\xe7o do seu estabelecimento"}),Object(R.jsx)(p.a,{children:Object(R.jsx)($,Object(c.a)(Object(c.a)({},D),{},{onSubmit:ie,actions:(e,t,a)=>Object(R.jsx)(d.a,{children:Object(R.jsx)(h.a,{type:"submit",variant:"contained",color:"primary",loading:e,children:"Salvar endere\xe7o"})})}))})]}),Object(R.jsxs)(m.a,{children:[Object(R.jsx)(j.a,{children:"Informe os dados da sua empresa"}),Object(R.jsx)(p.a,{children:Object(R.jsx)(W,{initialValues:{nationalId:null===B||void 0===B?void 0:B.nationalId,stateId:null===B||void 0===B?void 0:B.stateId,name:null===B||void 0===B?void 0:B.name,regime:null===B||void 0===B||null===(e=B.tax)||void 0===e?void 0:e.regime},onSubmit:ce,actions:(e,t,a)=>Object(R.jsxs)(d.a,{children:[Object(R.jsx)(h.a,{variant:"outlined",color:"primary",onClick:re,children:"Voltar"}),Object(R.jsx)(h.a,{type:"submit",variant:"contained",color:"primary",disabled:e||a,loading:q,children:"Salvar"})]})})})]}),Object(R.jsxs)(m.a,{children:[Object(R.jsx)(j.a,{children:"Informe seus registros tribut\xe1rios"}),Object(R.jsx)(p.a,{children:Object(R.jsx)(Q,{initialValues:{icmsOrigin:null===le||void 0===le?void 0:le.icmsOrigin,icmsTaxGroup:null===le||void 0===le?void 0:le.icmsTaxGroup,icmsCSOSN:null===le||void 0===le?void 0:le.icmsCSOSN,incidenceRegime:null===le||void 0===le?void 0:le.incidenceRegime,pisCofinsTaxGroup:null===le||void 0===le?void 0:le.pisCofinsTaxGroup},state:null===B||void 0===B||null===(t=B.address)||void 0===t?void 0:t.state,regime:null===B||void 0===B||null===(a=B.tax)||void 0===a?void 0:a.regime,onSubmit:se,actions:(e,t,a)=>Object(R.jsxs)(d.a,{children:[Object(R.jsx)(h.a,{variant:"outlined",color:"primary",onClick:re,children:"Voltar"}),Object(R.jsx)(h.a,{type:"submit",variant:"contained",color:"primary",disabled:e||a,loading:q,children:"Salvar"})]})})})]}),Object(R.jsxs)(m.a,{children:[Object(R.jsx)(j.a,{children:"Fa\xe7a upload do seu certificado digital"}),Object(R.jsxs)(p.a,{children:[Object(R.jsx)(g.a,{className:r.file,variant:"square",avatar:!1,accept:"application/x-pkcs12",onChange:e=>{_(e)}}),Object(R.jsx)(A,{onSubmit:oe,actions:(e,t,a)=>Object(R.jsxs)(d.a,{children:[Object(R.jsx)(h.a,{variant:"outlined",color:"primary",onClick:re,children:"Voltar"}),Object(R.jsx)(h.a,{type:"submit",variant:"contained",color:"primary",loading:q,disabled:!J||e||t||a,children:"Finalizar"})]})})]})]})]})]})})})};re.defaultProps={};var ie=re;const ce=()=>Object(R.jsx)(ie,{});ce.defaultProps={};t.default=ce}}]);
//# sourceMappingURL=32.eb58d32f.chunk.js.map