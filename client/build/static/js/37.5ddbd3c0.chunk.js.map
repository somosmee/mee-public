{"version":3,"sources":["utils/numeral.js","components/Main/styles.js","components/Main/index.js","components/Page/styles.js","components/Page/index.js","graphql/product/fragments.js","graphql/product/queries.js","hooks/usePagination.js","hooks/useProduct.js","graphql/inventory/fragments.js","graphql/inventory/queries.js","hooks/useInventory.js","views/ProductView/styles.js","views/ProductView/index.js","containers/ProductContainer/index.js"],"names":["numeral","register","delimiters","thousands","decimal","abbreviations","thousand","million","billion","trillion","ordinal","number","currency","symbol","locale","defaultFormat","useStyles","makeStyles","theme","root","paddingTop","spacing","paddingBottom","breakpoints","up","background","backgroundColor","palette","default","title","marginBottom","loading","top","mixins","toolbar","minHeight","fab","position","bottom","right","zIndex","drawer","bottomNavigation","down","icon","marginRight","snackbar","Main","className","children","actions","header","placeholder","classes","useState","open","setOpen","useContext","AppBarContext","appBar","handleActionClick","action","event","onClick","isFab","Array","isArray","hasPlaceholder","Container","classNames","prominent","component","Loading","Box","display","displayPrint","Zoom","in","unmountOnExit","Badge","badgeContent","badge","color","Fab","id","disabled","variant","cloneElement","label","overlap","SpeedDial","ariaLabel","SpeedDialIcon","map","index","SpeedDialAction","tooltipTitle","tooltipOpen","Snackbar","defaultProps","overflowX","margin","padding","rootOpen","marginLeft","DRAWER_WIDTH","transition","transitions","create","easing","easeOut","duration","enteringScreen","rootClose","DRAWER_WIDTH_CLOSED","sharp","leavingScreen","Page","app","useApp","openDrawer","overhead","PRODUCT_MODIFIERS_ATTRIBUTES","gql","PRODUCT_BUNDLE_ATTRIBUTES","PRODUCT_ATTRIBUTES","PRODUCT_BY_GTIN_ATTRIBUTES","GET_PRODUCT","GET_PRODUCT_BY_GTIN","GET_PRODUCTS","CREATE_PRODUCT","UPDATE_PRODUCT","SEARCH_PRODUCTS","DELETE_PRODUCT","IMPORT_PRODUCTS","usePagination","page","PAGINATION_PAGE_DEFAULT","offset","PAGINATION_OFFSET_DEFAULT","location","useLocation","history","useHistory","search","getSearch","setPagination","useCallback","pagination","searchUpdated","updateSearch","push","useProduct","me","useMe","useUser","updateMe","openSnackbar","useSnackbar","useLazyQuery","fetchPolicy","getProductExecute","getProductResult","getProductByGTINExecute","getProductByGTINResult","getProductsExecute","getProductsResult","useMutation","createProductMutate","createProductResult","updateProductMutate","updateProductResult","deleteProductMutate","deleteProductResult","importProductsMutate","importProductsResult","getProductByGTIN","gtin","variables","input","getProduct","getProducts","first","skip","createProduct","a","data","analytics","logEvent","FirebaseEvents","message","refetch","onboarding","finishedAddProduct","updateProduct","deleteProduct","importProducts","products","IMPORT_PRODUCTS_FAIL","INVENTORY_ATTRIBUTES","INVENTORY_ADJUSTMENT","GET_INVENTORY_MOVEMENTS","PAGINATION_ATTRIBUTES","useInventory","getInventoryMovementsExecute","getInventoryMovementsResult","inventoryAdjustmentMutate","inventoryAdjustmentResult","getInventoryMovements","inventoryAdjustment","card","timeline","acitons","justifyContent","media","height","grey","name","textTransform","fontSize","ProductView","product","inventoryMovements","handleBack","handleLoadMore","setAppBar","useEffect","toLowerCase","document","SCREEN_VIEW","screen_name","ICMS","tax","Object","keys","ICMSOrigin","reduce","acc","key","value","icmsOrigin","description","hasInventoryMovements","movements","length","Link","startIcon","Grid","container","item","xs","Card","Skeleton","animation","CardMedia","image","CardContent","sm","width","style","Typography","price","format","mb","ncm","balance","alignItems","Tooltip","icmsTaxPercentage","CardHeader","Timeline","align","TimelineItem","TimelineOppositeContent","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","movement","inventoryAction","quantity","InventoryAction","output","date","moment","createdAt","type","Math","abs","Reasons","reason","totalItems","CardActions","Button","size","ProductContainer","productId","useParams","Paths","path"],"mappings":"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","file":"static/js/37.5ddbd3c0.chunk.js","sourcesContent":["import numeral from 'numeral'\n\nnumeral.register('locale', 'br', {\n  delimiters: {\n    thousands: '.',\n    decimal: ','\n  },\n  abbreviations: {\n    thousand: 'k',\n    million: 'm',\n    billion: 'b',\n    trillion: 't'\n  },\n  ordinal: function(number) {\n    return number === 1 ? 'o' : 'a'\n  },\n  currency: {\n    symbol: 'R$'\n  }\n})\n\nnumeral.locale('br')\nnumeral.defaultFormat('$ 0,0.00')\n\nexport { numeral as default }\n","import { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    [theme.breakpoints.up('md')]: {\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3)\n    }\n  },\n  background: {\n    backgroundColor: theme.palette.background.default\n  },\n  title: {\n    marginBottom: theme.spacing(2),\n    [theme.breakpoints.up('md')]: {\n      marginBottom: theme.spacing(7)\n    }\n  },\n  loading: {\n    top: theme.mixins.toolbar.minHeight\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    zIndex: theme.zIndex.drawer + 1\n  },\n  bottomNavigation: {\n    [theme.breakpoints.down('md')]: {\n      bottom: theme.spacing(10)\n    }\n  },\n  icon: {\n    marginRight: theme.spacing(1)\n  },\n  snackbar: {\n    bottom: theme.spacing(10),\n    [theme.breakpoints.up('md')]: {\n      bottom: theme.spacing(2)\n    }\n  },\n  bottom: {\n    bottom: theme.spacing(18)\n  }\n}))\n\nexport default useStyles\n","import React, { useState, useContext, cloneElement } from 'react'\n\nimport classNames from 'classnames'\nimport PropTypes from 'prop-types'\n\nimport Badge from '@material-ui/core/Badge'\nimport Box from '@material-ui/core/Box'\nimport Container from '@material-ui/core/Container'\nimport Fab from '@material-ui/core/Fab'\nimport Zoom from '@material-ui/core/Zoom'\n\nimport SpeedDial from '@material-ui/lab/SpeedDial'\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction'\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon'\n\nimport Add from '@material-ui/icons/Add'\n\nimport Loading from 'src/components/Loading'\nimport Snackbar from 'src/components/Snackbar'\n\nimport AppBarContext from 'src/contexts/AppBarContext'\n\nimport useStyles from './styles'\n\nconst Main = ({\n  className,\n  children,\n  actions,\n  fab,\n  header,\n  toolbar,\n  loading,\n  placeholder,\n  snackbar,\n  bottomNavigation\n}) => {\n  const classes = useStyles()\n\n  const [open, setOpen] = useState(false)\n  const [appBar] = useContext(AppBarContext)\n\n  const handleClick = () => {\n    setOpen(!open)\n  }\n\n  const handleActionClick = (action) => (event) => {\n    setOpen(false)\n    action.onClick()\n  }\n\n  const renderAction = (action, index) => (\n    <SpeedDialAction\n      key={index}\n      icon={action.icon}\n      tooltipTitle={action.label}\n      tooltipOpen\n      onClick={handleActionClick(action)}\n    />\n  )\n\n  const isFab = !Array.isArray(fab?.actions)\n  const hasPlaceholder = placeholder\n\n  return (\n    <Container\n      className={classNames(classes.root, className, { [classes.background]: !appBar.prominent })}\n      component='main'\n    >\n      {loading && <Loading className={classes.loading} />}\n      {!loading && children}\n      {!loading && hasPlaceholder && placeholder}\n      {fab && isFab && (\n        <Box display='block' displayPrint='none'>\n          <Zoom in={isFab} unmountOnExit>\n            <Badge\n              className={classNames(classes.fab, { [classes.bottomNavigation]: bottomNavigation })}\n              badgeContent={fab.actions.badge}\n              color='error'\n            >\n              <Fab\n                id={fab.id}\n                disabled={fab.disabled}\n                variant={fab.actions.variant}\n                color='primary'\n                onClick={fab.actions.onClick}\n              >\n                {fab.actions.icon ? (\n                  cloneElement(fab.actions.icon, { className: classes.icon })\n                ) : (\n                  <Add className={classNames({ [classes.icon]: !!fab.actions.label })} />\n                )}\n                {fab.actions.variant === 'extended' && fab.actions.label}\n              </Fab>\n            </Badge>\n          </Zoom>\n        </Box>\n      )}\n      {fab && !isFab && (\n        <Box display='block' displayPrint='none'>\n          <Zoom in={!isFab} unmountOnExit>\n            <Badge\n              className={classNames(classes.fab, { [classes.bottomNavigation]: bottomNavigation })}\n              badgeContent={fab.actions.badge}\n              overlap='circle'\n              color='error'\n            >\n              <SpeedDial\n                id={fab.id}\n                open={open}\n                ariaLabel='Ações'\n                icon={<SpeedDialIcon />}\n                onClick={handleClick}\n              >\n                {fab.actions.map(renderAction)}\n              </SpeedDial>\n            </Badge>\n          </Zoom>\n        </Box>\n      )}\n      {snackbar && (\n        <Snackbar\n          className={classNames(classes.snackbar, { [classes.bottom]: fab && bottomNavigation })}\n        />\n      )}\n    </Container>\n  )\n}\n\nMain.propTypes = {\n  className: PropTypes.string,\n  toolbar: PropTypes.bool,\n  loading: PropTypes.bool,\n  actions: PropTypes.arrayOf(PropTypes.object),\n  fab: PropTypes.shape({\n    id: PropTypes.string,\n    disabled: PropTypes.bool,\n    icon: PropTypes.object,\n    variant: PropTypes.string,\n    actions: PropTypes.oneOfType([PropTypes.object, PropTypes.arrayOf(PropTypes.object)])\n  }),\n  header: PropTypes.bool,\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  placeholder: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  snackbar: PropTypes.bool,\n  bottomNavigation: PropTypes.bool\n}\n\nMain.defaultProps = {\n  header: true,\n  toolbar: false,\n  loading: false,\n  snackbar: true,\n  bottomNavigation: true\n}\n\nexport default Main\n","import { makeStyles } from '@material-ui/core/styles'\n\nimport { DRAWER_WIDTH, DRAWER_WIDTH_CLOSED } from 'src/utils/constants'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(24),\n    overflowX: 'hidden',\n    '@media print': {\n      display: 'block',\n      margin: '0 !important',\n      padding: '0 !important'\n    }\n  },\n  rootOpen: {\n    [theme.breakpoints.up('md')]: {\n      marginLeft: DRAWER_WIDTH,\n      marginBottom: 0,\n      transition: theme.transitions.create(['margin', 'width'], {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    }\n  },\n  rootClose: {\n    [theme.breakpoints.up('md')]: {\n      marginLeft: DRAWER_WIDTH_CLOSED,\n      marginBottom: 0,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    }\n  },\n  toolbar: {\n    ...theme.mixins.toolbar\n  }\n}))\n\nexport default useStyles\n","import React, { useContext, cloneElement } from 'react'\n\nimport classNames from 'classnames'\nimport PropTypes from 'prop-types'\n\nimport AppBarContext from 'src/contexts/AppBarContext'\n\nimport useApp from 'src/hooks/useApp'\n\nimport useStyles from './styles'\nconst Page = ({ children, toolbar }) => {\n  const classes = useStyles()\n\n  const [appBar] = useContext(AppBarContext)\n  const { app } = useApp()\n\n  return (\n    <div\n      className={classNames(classes.root, {\n        [classes.rootOpen]: app.openDrawer,\n        [classes.rootClose]: !app.openDrawer\n      })}\n    >\n      {cloneElement(children, {\n        className: classNames({ [classes.children]: appBar.overhead })\n      })}\n    </div>\n  )\n}\n\nPage.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  toolbar: PropTypes.bool\n}\n\nPage.defaultProps = {\n  toolbar: true\n}\n\nexport default Page\n","import gql from 'graphql-tag'\n\nexport const PRODUCT_MODIFIERS_ATTRIBUTES = gql`\n  fragment productModifiersAttributes on ProductModifier {\n    id\n    name\n    price\n  }\n`\n\nexport const PRODUCT_BUNDLE_ATTRIBUTES = gql`\n  fragment productBundleAttributes on ProductBundle {\n    product\n    quantity\n    name\n    gtin\n  }\n`\n\nexport const PRODUCT_ATTRIBUTES = gql`\n  fragment productAttributes on Product {\n    _id\n    gtin\n    name\n    description\n    image\n    balance\n    price\n    measurement\n    ncm\n    modifiers {\n      ...productModifiersAttributes\n    }\n    bundle {\n      ...productBundleAttributes\n    }\n    internal\n    productionLine\n    deletedAt\n    createdAt\n    updatedAt\n  }\n  ${PRODUCT_MODIFIERS_ATTRIBUTES}\n  ${PRODUCT_BUNDLE_ATTRIBUTES}\n`\n\nexport const PRODUCT_BY_GTIN_ATTRIBUTES = gql`\n  fragment productGTINAttributes on ProductUniversal {\n    _id\n    gtin\n    name\n    description\n    measurement\n    ncm\n    deletedAt\n    createdAt\n    updatedAt\n  }\n`\n","import gql from 'graphql-tag'\n\nimport { PRODUCT_ATTRIBUTES, PRODUCT_BY_GTIN_ATTRIBUTES } from 'src/graphql/product/fragments'\n\nexport const GET_PRODUCT = gql`\n  query($input: ProductInput!) {\n    product(input: $input) {\n      ...productAttributes\n    }\n  }\n  ${PRODUCT_ATTRIBUTES}\n`\n\nexport const GET_PRODUCT_BY_GTIN = gql`\n  query($input: ProductInput!) {\n    productGTIN(input: $input) {\n      ...productGTINAttributes\n    }\n  }\n  ${PRODUCT_BY_GTIN_ATTRIBUTES}\n`\n\nexport const GET_PRODUCTS = gql`\n  query($input: ProductsInput) {\n    products(input: $input) {\n      products {\n        ...productAttributes\n      }\n      pagination {\n        page\n        offset\n        totalPages\n        totalItems\n      }\n    }\n  }\n  ${PRODUCT_ATTRIBUTES}\n`\n\nexport const CREATE_PRODUCT = gql`\n  mutation createProduct($input: CreateProductInput!) {\n    createProduct(input: $input) {\n      ...productAttributes\n    }\n  }\n  ${PRODUCT_ATTRIBUTES}\n`\n\nexport const UPDATE_PRODUCT = gql`\n  mutation($input: UpdateProductInput!) {\n    updateProduct(input: $input) {\n      ...productAttributes\n    }\n  }\n  ${PRODUCT_ATTRIBUTES}\n`\n\nexport const SEARCH_PRODUCTS = gql`\n  query searchProducts($text: String) {\n    searchProducts(text: $text) {\n      ...productAttributes\n    }\n  }\n  ${PRODUCT_ATTRIBUTES}\n`\n\nexport const DELETE_PRODUCT = gql`\n  mutation($input: DeleteProductInput!) {\n    deleteProduct(input: $input) {\n      _id\n    }\n  }\n`\n\nexport const IMPORT_PRODUCTS = gql`\n  mutation($input: ImportProductsInput!) {\n    importProducts(input: $input)\n  }\n`\n","import { useCallback } from 'react'\nimport { useLocation, useHistory } from 'react-router-dom'\n\nimport { PAGINATION_PAGE_DEFAULT, PAGINATION_OFFSET_DEFAULT } from 'src/utils/constants'\nimport { updateSearch, getSearch } from 'src/utils/url'\n\nconst usePagination = ({\n  page = PAGINATION_PAGE_DEFAULT,\n  offset = PAGINATION_OFFSET_DEFAULT\n} = {}) => {\n  const location = useLocation()\n  const history = useHistory()\n\n  const search = getSearch(location)\n\n  const setPagination = useCallback(\n    (pagination) => {\n      const searchUpdated = updateSearch(location, {\n        page: pagination.page ?? search.page ?? page,\n        offset: pagination.offset ?? search.offset ?? offset\n      })\n\n      history.push(`?${searchUpdated}`)\n    },\n    [location, history, search, page, offset]\n  )\n\n  return [{ page: search.page ?? page, offset: search.offset ?? offset }, setPagination]\n}\n\nexport default usePagination\n","import { useCallback } from 'react'\n\nimport { useLazyQuery, useMutation } from '@apollo/react-hooks'\n\nimport {\n  GET_PRODUCT,\n  GET_PRODUCT_BY_GTIN,\n  GET_PRODUCTS,\n  CREATE_PRODUCT,\n  UPDATE_PRODUCT,\n  DELETE_PRODUCT,\n  IMPORT_PRODUCTS\n} from 'src/graphql/product/queries'\n\nimport useMe from 'src/hooks/useMe'\nimport useSnackbar from 'src/hooks/useSnackbar'\nimport useUser from 'src/hooks/useUser'\n\nimport { FirebaseEvents } from 'src/utils/enums'\n\nimport { analytics } from 'src/firebase'\n\nconst useProduct = () => {\n  const { me } = useMe()\n  const {\n    updateMe: [updateMe]\n  } = useUser()\n  const { openSnackbar } = useSnackbar()\n\n  const [getProductExecute, getProductResult] = useLazyQuery(GET_PRODUCT, {\n    fetchPolicy: 'network-only'\n  })\n  const [getProductByGTINExecute, getProductByGTINResult] = useLazyQuery(GET_PRODUCT_BY_GTIN, {\n    fetchPolicy: 'network-only'\n  })\n  const [getProductsExecute, getProductsResult] = useLazyQuery(GET_PRODUCTS, {\n    fetchPolicy: 'network-only'\n  })\n\n  const [createProductMutate, createProductResult] = useMutation(CREATE_PRODUCT)\n  const [updateProductMutate, updateProductResult] = useMutation(UPDATE_PRODUCT)\n  const [deleteProductMutate, deleteProductResult] = useMutation(DELETE_PRODUCT)\n  const [importProductsMutate, importProductsResult] = useMutation(IMPORT_PRODUCTS)\n\n  const getProductByGTIN = useCallback((gtin) => {\n    getProductByGTINExecute({ variables: { input: { gtin } } })\n  }, [])\n\n  const getProduct = useCallback((input) => {\n    getProductExecute({ variables: { input } })\n  }, [])\n\n  const getProducts = useCallback(({ pagination } = {}) => {\n    getProductsExecute({\n      variables: {\n        input: {\n          pagination: { first: pagination.offset, skip: pagination.page * pagination.offset }\n        }\n      }\n    })\n  }, [])\n\n  const createProduct = async (input) => {\n    try {\n      const {\n        data: { createProduct }\n      } = await createProductMutate({ variables: { input } })\n      analytics.logEvent(FirebaseEvents.CREATE_PRODUCT)\n      openSnackbar({ variant: 'success', message: 'Produto adicionado' })\n      // eslint-disable-next-line\n      getProductsResult?.refetch?.()\n\n      if (!me?.onboarding?.finishedAddProduct) {\n        updateMe({ onboarding: { finishedAddProduct: true } })\n      }\n\n      return createProduct\n    } catch (error) {\n      openSnackbar({ variant: 'error', message: error.message })\n      throw error\n    }\n  }\n\n  const updateProduct = async (input) => {\n    try {\n      const {\n        data: { updateProduct }\n      } = await updateProductMutate({ variables: { input } })\n      analytics.logEvent(FirebaseEvents.UPDATE_PRODUCT)\n      openSnackbar({ variant: 'success', message: 'Produto atualizado' })\n      return updateProduct\n    } catch (error) {\n      openSnackbar({ variant: 'error', message: error.message })\n      throw error\n    }\n  }\n\n  const deleteProduct = async (input) => {\n    try {\n      const {\n        data: { deleteProduct }\n      } = await deleteProductMutate({ variables: { input } })\n      analytics.logEvent(FirebaseEvents.DELETE_PRODUCT)\n      openSnackbar({ variant: 'success', message: 'Produto apagado' })\n      // eslint-disable-next-line\n      getProductsResult?.refetch?.()\n      return deleteProduct\n    } catch (error) {\n      openSnackbar({ variant: 'error', message: error.message })\n      throw error\n    }\n  }\n\n  const importProducts = async (products) => {\n    try {\n      await importProductsMutate({ variables: { input: { products } } })\n      analytics.logEvent(FirebaseEvents.IMPORT_PRODUCTS)\n      openSnackbar({ variant: 'success', message: 'Produtos importados' })\n      // eslint-disable-next-line\n      getProductsResult?.refetch?.()\n    } catch (error) {\n      analytics.logEvent(FirebaseEvents.IMPORT_PRODUCTS_FAIL)\n      openSnackbar({ variant: 'error', message: error.message })\n      throw error\n    }\n  }\n\n  return {\n    getProduct: [getProduct, getProductResult],\n    getProductByGTIN: [getProductByGTIN, getProductByGTINResult],\n    getProducts: [getProducts, getProductsResult],\n    createProduct: [createProduct, createProductResult],\n    updateProduct: [updateProduct, updateProductResult],\n    deleteProduct: [deleteProduct, deleteProductResult],\n    importProducts: [importProducts, importProductsResult]\n  }\n}\n\nexport default useProduct\n","import gql from 'graphql-tag'\n\nexport const INVENTORY_ATTRIBUTES = gql`\n  fragment inventoryAttributes on Inventory {\n    _id\n    reason\n    quantity\n    balance\n    product {\n      _id\n      gtin\n      name\n      description\n      measurement\n      createdAt\n      updatedAt\n    }\n    deletedAt\n    createdAt\n    updatedAt\n  }\n`\n","import gql from 'graphql-tag'\n\nimport { PAGINATION_ATTRIBUTES } from 'src/graphql/fragments'\n\nimport { INVENTORY_ATTRIBUTES } from './fragments'\n\nexport const INVENTORY_ADJUSTMENT = gql`\n  mutation($input: InventoryAdjustmentInput!) {\n    inventoryAdjustment(input: $input) {\n      ...inventoryAttributes\n    }\n  }\n  ${INVENTORY_ATTRIBUTES}\n`\n\nexport const GET_INVENTORY_MOVEMENTS = gql`\n  query($input: InventoryMovementsInput!) {\n    inventoryMovements(input: $input) {\n      movements {\n        ...inventoryAttributes\n      }\n      pagination {\n        ...paginationAttributes\n      }\n    }\n  }\n  ${INVENTORY_ATTRIBUTES}\n  ${PAGINATION_ATTRIBUTES}\n`\n","import { useLazyQuery, useMutation } from '@apollo/react-hooks'\n\nimport { INVENTORY_ADJUSTMENT, GET_INVENTORY_MOVEMENTS } from 'src/graphql/inventory/queries'\n\nimport useSnackbar from 'src/hooks/useSnackbar'\n\nimport { FirebaseEvents } from 'src/utils/enums'\n\nimport { analytics } from 'src/firebase'\n\nconst useInventory = () => {\n  const { openSnackbar } = useSnackbar()\n\n  const [\n    getInventoryMovementsExecute,\n    getInventoryMovementsResult\n  ] = useLazyQuery(GET_INVENTORY_MOVEMENTS, { fetchPolicy: 'network-only' })\n\n  const [inventoryAdjustmentMutate, inventoryAdjustmentResult] = useMutation(INVENTORY_ADJUSTMENT)\n\n  const getInventoryMovements = async (input) => {\n    await getInventoryMovementsExecute({ variables: { input } })\n  }\n\n  const inventoryAdjustment = async (input) => {\n    try {\n      await inventoryAdjustmentMutate({ variables: { input } })\n      analytics.logEvent(FirebaseEvents.INVENTORY_ADJUSTMENT)\n      openSnackbar({ variant: 'success', message: 'Estoque atualizado' })\n    } catch (error) {\n      openSnackbar({ variant: 'error', message: error.message })\n      throw error\n    }\n  }\n\n  return {\n    getInventoryMovements: [getInventoryMovementsResult, getInventoryMovements],\n    inventoryAdjustment: [inventoryAdjustmentResult, inventoryAdjustment]\n  }\n}\n\nexport default useInventory\n","import { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  card: {},\n  timeline: {\n    margin: 0\n  },\n  acitons: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  media: {\n    height: 400\n  },\n  grey: {\n    backgroundColor: theme.palette.grey[300]\n  },\n  name: { textTransform: 'capitalize' },\n  icon: {\n    marginLeft: theme.spacing(0.5),\n    fontSize: theme.spacing(2)\n  }\n}))\n\nexport default useStyles\n","import React, { useContext, useEffect } from 'react'\n\nimport classNames from 'classnames'\nimport moment from 'moment'\nimport PropTypes from 'prop-types'\n\nimport Box from '@material-ui/core/Box'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Grid from '@material-ui/core/Grid'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\n\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport Timeline from '@material-ui/lab/Timeline'\nimport TimelineConnector from '@material-ui/lab/TimelineConnector'\nimport TimelineContent from '@material-ui/lab/TimelineContent'\nimport TimelineDot from '@material-ui/lab/TimelineDot'\nimport TimelineItem from '@material-ui/lab/TimelineItem'\nimport TimelineOppositeContent from '@material-ui/lab/TimelineOppositeContent'\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator'\n\nimport HelpOutline from '@material-ui/icons/HelpOutline'\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\n\nimport Button from 'src/components/Button'\nimport Link from 'src/components/Link'\nimport Main from 'src/components/Main'\nimport Page from 'src/components/Page'\n\nimport AppBarContext from 'src/contexts/AppBarContext'\n\nimport { Reasons, ICMSOrigin, InventoryAction, FirebaseEvents } from 'src/utils/enums'\nimport numeral from 'src/utils/numeral'\n\nimport { analytics } from 'src/firebase'\n\nimport useStyles from './styles'\n\nconst ProductView = ({ product, inventoryMovements, handleBack, handleLoadMore }) => {\n  const classes = useStyles()\n\n  const [, setAppBar] = useContext(AppBarContext)\n\n  useEffect(() => {\n    const title = 'Produto'\n    setAppBar({ prominent: false, overhead: false, color: 'white', title: title.toLowerCase() })\n    document.title = `${title} | Mee`\n    analytics.logEvent(FirebaseEvents.SCREEN_VIEW, { screen_name: title })\n  }, [setAppBar])\n\n  const renderTimelineItem = (movement, index, movements) => {\n    const inventoryAction = movement.quantity > 0 ? InventoryAction.input : InventoryAction.output\n\n    const date = moment(movement.createdAt).format('DD/MM/YY LT')\n\n    return (\n      <TimelineItem key={index}>\n        <TimelineOppositeContent>\n          <Typography color='textSecondary' variant='body2'>\n            {date}\n          </Typography>\n        </TimelineOppositeContent>\n        <TimelineSeparator>\n          <TimelineDot\n            color={inventoryAction.type === InventoryAction.input.type ? 'primary' : 'secondary'}\n            variant='outlined'\n          />\n          <TimelineConnector />\n        </TimelineSeparator>\n        <TimelineContent>\n          {`${inventoryAction.name} ${Math.abs(movement.quantity)} itens | ${\n            Reasons[movement.reason].name\n          }`}\n        </TimelineContent>\n      </TimelineItem>\n    )\n  }\n\n  const ICMS =\n    product?.data?.product?.tax &&\n    Object.keys(ICMSOrigin).reduce((acc, key) => {\n      if (ICMSOrigin[key].value === product.data.product.tax.icmsOrigin) {\n        acc.name = ICMSOrigin[key].name\n        acc.description = ICMSOrigin[key].description\n      }\n      return acc\n    }, {})\n\n  const hasInventoryMovements = !!inventoryMovements?.data?.inventoryMovements?.movements.length\n\n  return (\n    <Page className={classes.root}>\n      <Main>\n        <Box marginBottom={2}>\n          <Link startIcon={<KeyboardArrowLeft />} onClick={handleBack}>\n            Voltar\n          </Link>\n        </Box>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <Card className={classes.card}>\n              {!product.loading ? (\n                <CardMedia\n                  className={classNames(classes.media, classes.grey)}\n                  image={product?.data?.product?.image}\n                  title={product?.data?.product?.name}\n                />\n              ) : (\n                <Skeleton className={classes.media} variant='rect' animation='wave' />\n              )}\n              <CardContent>\n                <Grid container spacing={2}>\n                  <Grid item xs={12} sm>\n                    <Box marginBottom={1}>\n                      {!product.loading ? (\n                        <>\n                          <Typography variant='body2' color='textSecondary'>\n                            {product?.data?.product?.gtin}\n                          </Typography>\n                          <Typography className={classes.name} variant='h5'>\n                            {product?.data?.product?.name}\n                          </Typography>\n                          <Typography color='textSecondary'>\n                            {numeral(product?.data?.product?.price).format('$ 0.00')}\n                          </Typography>\n                        </>\n                      ) : (\n                        <>\n                          <Skeleton\n                            variant='rect'\n                            width={105}\n                            height={16}\n                            animation='wave'\n                            style={{ marginBottom: 4 }}\n                          />\n                          <Skeleton\n                            variant='rect'\n                            height={28}\n                            animation='wave'\n                            style={{ marginBottom: 4 }}\n                          />\n                          <Skeleton\n                            variant='rect'\n                            width={55}\n                            height={20}\n                            animation='wave'\n                            style={{ marginBottom: 4 }}\n                          />\n                        </>\n                      )}\n                    </Box>\n                    {product?.data?.product?.description && (\n                      <Box mb={2}>\n                        <Typography variant='body2'>{product.data.product.description}</Typography>\n                      </Box>\n                    )}\n                    {!product.loading && (\n                      <Box mb={product?.data?.product?.ncm ? 1 : 0}>\n                        <Typography variant='body2'>Estoque</Typography>\n                        <Typography variant='body2' color='textSecondary'>\n                          {product?.data?.product?.balance}\n                          {' unidades'}\n                        </Typography>\n                      </Box>\n                    )}\n                    {product?.data?.product?.ncm && (\n                      <Box>\n                        <Typography variant='body2'>NCM</Typography>\n                        <Typography variant='body2' color='textSecondary'>\n                          {product?.data?.product.ncm}\n                        </Typography>\n                      </Box>\n                    )}\n                  </Grid>\n                  {product?.data?.product?.tax && (\n                    <Grid item xs={12} sm>\n                      <Typography variant='overline'>Impostos</Typography>\n                      <Typography variant='body2'>\n                        <Box display='flex' alignItems='center'>\n                          ICMS\n                          <Tooltip title={ICMS.description}>\n                            <HelpOutline className={classes.icon} />\n                          </Tooltip>\n                        </Box>\n                      </Typography>\n                      <Typography variant='body2' color='textSecondary'>\n                        {product?.data?.product.tax.icmsTaxPercentage}%\n                      </Typography>\n                    </Grid>\n                  )}\n                </Grid>\n              </CardContent>\n            </Card>\n          </Grid>\n          <Grid item xs={12}>\n            <Card>\n              <CardHeader title='Movimentações no estoque' />\n              <CardContent>\n                <Timeline className={classes.timeline} align='alternate'>\n                  {!inventoryMovements.loading ? (\n                    hasInventoryMovements ? (\n                      inventoryMovements.data.inventoryMovements.movements.map(renderTimelineItem)\n                    ) : (\n                      <Typography color='textSecondary' align='center'>\n                        Não existem movimentações no estoque\n                      </Typography>\n                    )\n                  ) : (\n                    <>\n                      <TimelineItem>\n                        <TimelineOppositeContent>\n                          <Skeleton variant='rect' width={100} height={20} animation='wave' />\n                        </TimelineOppositeContent>\n                        <TimelineSeparator>\n                          <TimelineDot color='primary' variant='outlined' />\n                          <TimelineConnector />\n                        </TimelineSeparator>\n                        <TimelineContent>\n                          <Skeleton variant='rect' width={100} height={20} animation='wave' />\n                        </TimelineContent>\n                      </TimelineItem>\n                      <TimelineItem>\n                        <TimelineOppositeContent>\n                          <Skeleton variant='rect' width={100} height={20} animation='wave' />\n                        </TimelineOppositeContent>\n                        <TimelineSeparator>\n                          <TimelineDot color='secondary' variant='outlined' />\n                          <TimelineConnector />\n                        </TimelineSeparator>\n                        <TimelineContent>\n                          <Skeleton variant='rect' width={100} height={20} animation='wave' />\n                        </TimelineContent>\n                      </TimelineItem>\n                    </>\n                  )}\n                </Timeline>\n              </CardContent>\n              {hasInventoryMovements &&\n                inventoryMovements.data.inventoryMovements.movements.length <\n                  inventoryMovements.data.inventoryMovements.pagination.totalItems && (\n                <CardActions className={classes.acitons}>\n                  <Button\n                    size='small'\n                    loading={inventoryMovements.loading}\n                    onClick={handleLoadMore}\n                  >\n                      Carregar Mais\n                  </Button>\n                </CardActions>\n              )}\n            </Card>\n          </Grid>\n        </Grid>\n      </Main>\n    </Page>\n  )\n}\n\nProductView.propTypes = {\n  product: PropTypes.object,\n  inventoryMovements: PropTypes.object,\n  handleBack: PropTypes.func,\n  handleLoadMore: PropTypes.func\n}\n\nProductView.defaultProps = {\n  handleBack: () => {},\n  handleLoadMore: () => {}\n}\n\nexport default ProductView\n","import React, { useEffect } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\n\nimport PropTypes from 'prop-types'\n\nimport ProductView from 'src/views/ProductView'\n\nimport useInventory from 'src/hooks/useInventory'\nimport usePagination from 'src/hooks/usePagination'\nimport useProduct from 'src/hooks/useProduct'\n\nimport { Paths } from 'src/utils/enums'\n\nconst ProductContainer = () => {\n  const history = useHistory()\n  const { productId } = useParams()\n  const [pagination, setPagination] = usePagination({ offset: 5 })\n\n  const {\n    getProduct: [getProduct, getProductResult]\n  } = useProduct()\n  const {\n    getInventoryMovements: [getInventoryMovementsResult, getInventoryMovements]\n  } = useInventory()\n\n  useEffect(() => {\n    getProduct({ product: productId })\n  }, [])\n\n  useEffect(() => {\n    getInventoryMovements({\n      product: productId,\n      pagination: { first: pagination.offset, skip: pagination.page * pagination.offset }\n    })\n  }, [pagination.page, pagination.offset])\n\n  const handleBack = () => {\n    history.push(Paths.products.path)\n  }\n\n  const handleLoadMore = () => {\n    setPagination({ offset: pagination.offset + 5 })\n  }\n\n  return (\n    <ProductView\n      product={getProductResult}\n      inventoryMovements={getInventoryMovementsResult}\n      handleBack={handleBack}\n      handleLoadMore={handleLoadMore}\n    />\n  )\n}\n\nProductContainer.propTypes = {\n  productId: PropTypes.string.isRequired\n}\n\nProductContainer.defaultProps = {}\n\nexport default ProductContainer\n"],"sourceRoot":""}